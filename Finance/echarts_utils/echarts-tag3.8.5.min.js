!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.echarts={})}(this,function(t){"use strict";function e(t,e){Ds[t]=e}function n(t){if(null==t||"object"!=typeof t)return t;var e=t,i=Ts.call(t);if("[object Array]"===i){e=[];for(var r=0,o=t.length;r<o;r++)e[r]=n(t[r])}else if(Ms[i]){var a=t.constructor;if(t.constructor.from)e=a.from(t);else{e=new a(t.length);for(var r=0,o=t.length;r<o;r++)e[r]=n(t[r])}}else if(!Ss[i]&&!D(t)&&!S(t)){e={};for(var s in t)t.hasOwnProperty(s)&&(e[s]=n(t[s]))}return e}function i(t,e,r){if(!w(e)||!w(t))return r?n(e):t;for(var o in e)if(e.hasOwnProperty(o)){var a=t[o],s=e[o];!w(s)||!w(a)||y(s)||y(a)||S(s)||S(a)||b(s)||b(a)||D(s)||D(a)?!r&&o in t||(t[o]=n(e[o],!0)):i(a,s,r)}return t}function r(t,e){for(var n=t[0],r=1,o=t.length;r<o;r++)n=i(n,t[r],e);return n}function o(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function a(t,e,n){for(var i in e)e.hasOwnProperty(i)&&(n?null!=e[i]:null==t[i])&&(t[i]=e[i]);return t}function s(){return zs||(zs=Os().getContext("2d")),zs}function l(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n}return-1}function h(t,e){function n(){}var i=t.prototype;n.prototype=e.prototype,t.prototype=new n;for(var r in i)t.prototype[r]=i[r];t.prototype.constructor=t,t.superClass=e}function u(t,e,n){a(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,n)}function c(t){if(t)return"string"!=typeof t&&"number"==typeof t.length}function f(t,e,n){if(t&&e)if(t.forEach&&t.forEach===Is)t.forEach(e,n);else if(t.length===+t.length)for(var i=0,r=t.length;i<r;i++)e.call(n,t[i],i,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(n,t[o],o,t)}function d(t,e,n){if(t&&e){if(t.map&&t.map===Ls)return t.map(e,n);for(var i=[],r=0,o=t.length;r<o;r++)i.push(e.call(n,t[r],r,t));return i}}function g(t,e,n,i){if(t&&e){if(t.reduce&&t.reduce===Ps)return t.reduce(e,n,i);for(var r=0,o=t.length;r<o;r++)n=e.call(i,n,t[r],r,t);return n}}function p(t,e,n){if(t&&e){if(t.filter&&t.filter===As)return t.filter(e,n);for(var i=[],r=0,o=t.length;r<o;r++)e.call(n,t[r],r,t)&&i.push(t[r]);return i}}function v(t,e){var n=ks.call(arguments,2);return function(){return t.apply(e,n.concat(ks.call(arguments)))}}function m(t){var e=ks.call(arguments,1);return function(){return t.apply(this,e.concat(ks.call(arguments)))}}function y(t){return"[object Array]"===Ts.call(t)}function _(t){return"function"==typeof t}function x(t){return"[object String]"===Ts.call(t)}function w(t){var e=typeof t;return"function"===e||!!t&&"object"==e}function b(t){return!!Ss[Ts.call(t)]}function S(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}function M(t){return t!==t}function T(t){for(var e=0,n=arguments.length;e<n;e++)if(null!=arguments[e])return arguments[e]}function C(t,e){return null!=t?t:e}function I(t,e,n){return null!=t?t:null!=e?e:n}function A(){return Function.call.apply(ks,arguments)}function k(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function L(t,e){if(!t)throw new Error(e)}function P(t){t[Bs]=!0}function D(t){return t[Bs]}function O(t){t&&f(t,function(t,e){this.set(e,t)},this)}function z(t){return new O(t)}function B(){}function E(t,e){var n=new Es(2);return null==t&&(t=0),null==e&&(e=0),n[0]=t,n[1]=e,n}function N(t){var e=new Es(2);return e[0]=t[0],e[1]=t[1],e}function R(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function F(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function W(t){return Math.sqrt(V(t))}function V(t){return t[0]*t[0]+t[1]*t[1]}function G(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function H(t,e){var n=W(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t}function q(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}function X(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r+n[4],t[1]=n[1]*i+n[3]*r+n[5],t}function Z(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function Y(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function U(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}function j(t,e){return{target:t,topTarget:e&&e.topTarget}}function $(t,e,n){return{type:t,event:n,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which}}function Q(){}function K(t,e,n){if(t[t.rectHover?"rectContain":"contain"](e,n)){for(var i,r=t;r;){if(r.clipPath&&!r.clipPath.contain(e,n))return!1;r.silent&&(i=!0),r=r.parent}return!i||Vs}return!1}function J(){var t=new qs(6);return tt(t),t}function tt(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function et(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function nt(t,e,n){var i=e[0]*n[0]+e[2]*n[1],r=e[1]*n[0]+e[3]*n[1],o=e[0]*n[2]+e[2]*n[3],a=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],l=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=i,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t}function it(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t}function rt(t,e,n){var i=e[0],r=e[2],o=e[4],a=e[1],s=e[3],l=e[5],h=Math.sin(n),u=Math.cos(n);return t[0]=i*u+a*h,t[1]=-i*h+a*u,t[2]=r*u+s*h,t[3]=-r*h+u*s,t[4]=u*o+h*l,t[5]=u*l-h*o,t}function ot(t,e,n){var i=n[0],r=n[1];return t[0]=e[0]*i,t[1]=e[1]*r,t[2]=e[2]*i,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*r,t}function at(t,e){var n=e[0],i=e[2],r=e[4],o=e[1],a=e[3],s=e[5],l=n*a-o*i;return l?(l=1/l,t[0]=a*l,t[1]=-o*l,t[2]=-i*l,t[3]=n*l,t[4]=(i*s-a*r)*l,t[5]=(o*r-n*s)*l,t):null}function st(t){return t>Zs||t<-Zs}function lt(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}function ht(t){return(t=Math.round(t))<0?0:t>255?255:t}function ut(t){return t<0?0:t>1?1:t}function ct(t){return ht(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100*255:parseInt(t,10))}function ft(t){return ut(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100:parseFloat(t))}function dt(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function gt(t,e,n,i,r){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t}function pt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function vt(t,e){rl&&pt(rl,e),rl=il.put(t,rl||e.slice())}function mt(t,e){if(t){e=e||[];var n=il.get(t);if(n)return pt(e,n);var i=(t+="").replace(/ /g,"").toLowerCase();if(i in nl)return pt(e,nl[i]),vt(t,e),e;if("#"!==i.charAt(0)){var r=i.indexOf("("),o=i.indexOf(")");if(-1!==r&&o+1===i.length){var a=i.substr(0,r),s=i.substr(r+1,o-(r+1)).split(","),l=1;switch(a){case"rgba":if(4!==s.length)return void gt(e,0,0,0,1);l=ft(s.pop());case"rgb":return 3!==s.length?void gt(e,0,0,0,1):(gt(e,ct(s[0]),ct(s[1]),ct(s[2]),l),vt(t,e),e);case"hsla":return 4!==s.length?void gt(e,0,0,0,1):(s[3]=ft(s[3]),yt(s,e),vt(t,e),e);case"hsl":return 3!==s.length?void gt(e,0,0,0,1):(yt(s,e),vt(t,e),e);default:return}}gt(e,0,0,0,1)}else{if(4===i.length)return(h=parseInt(i.substr(1),16))>=0&&h<=4095?(gt(e,(3840&h)>>4|(3840&h)>>8,240&h|(240&h)>>4,15&h|(15&h)<<4,1),vt(t,e),e):void gt(e,0,0,0,1);if(7===i.length){var h=parseInt(i.substr(1),16);return h>=0&&h<=16777215?(gt(e,(16711680&h)>>16,(65280&h)>>8,255&h,1),vt(t,e),e):void gt(e,0,0,0,1)}}}}function yt(t,e){var n=(parseFloat(t[0])%360+360)%360/360,i=ft(t[1]),r=ft(t[2]),o=r<=.5?r*(i+1):r+i-r*i,a=2*r-o;return e=e||[],gt(e,ht(255*dt(a,o,n+1/3)),ht(255*dt(a,o,n)),ht(255*dt(a,o,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function _t(t,e){var n=mt(t);if(n){for(var i=0;i<3;i++)n[i]=e<0?n[i]*(1-e)|0:(255-n[i])*e+n[i]|0;return xt(n,4===n.length?"rgba":"rgb")}}function xt(t,e){if(t&&t.length){var n=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(n+=","+t[3]),e+"("+n+")"}}function wt(t,e){return t[e]}function bt(t,e,n){t[e]=n}function St(t,e,n){return(e-t)*n+t}function Mt(t,e,n){return n>.5?e:t}function Tt(t,e,n,i,r){var o=t.length;if(1==r)for(s=0;s<o;s++)i[s]=St(t[s],e[s],n);else for(var a=o&&t[0].length,s=0;s<o;s++)for(var l=0;l<a;l++)i[s][l]=St(t[s][l],e[s][l],n)}function Ct(t,e,n){var i=t.length,r=e.length;if(i!==r)if(i>r)t.length=r;else for(a=i;a<r;a++)t.push(1===n?e[a]:ol.call(e[a]));for(var o=t[0]&&t[0].length,a=0;a<t.length;a++)if(1===n)isNaN(t[a])&&(t[a]=e[a]);else for(var s=0;s<o;s++)isNaN(t[a][s])&&(t[a][s]=e[a][s])}function It(t,e,n){if(t===e)return!0;var i=t.length;if(i!==e.length)return!1;if(1===n){for(o=0;o<i;o++)if(t[o]!==e[o])return!1}else for(var r=t[0].length,o=0;o<i;o++)for(var a=0;a<r;a++)if(t[o][a]!==e[o][a])return!1;return!0}function At(t,e,n,i,r,o,a,s,l){var h=t.length;if(1==l)for(c=0;c<h;c++)s[c]=kt(t[c],e[c],n[c],i[c],r,o,a);else for(var u=t[0].length,c=0;c<h;c++)for(var f=0;f<u;f++)s[c][f]=kt(t[c][f],e[c][f],n[c][f],i[c][f],r,o,a)}function kt(t,e,n,i,r,o,a){var s=.5*(n-t),l=.5*(i-e);return(2*(e-n)+s+l)*a+(-3*(e-n)-2*s-l)*o+s*r+e}function Lt(t){if(c(t)){var e=t.length;if(c(t[0])){for(var n=[],i=0;i<e;i++)n.push(ol.call(t[i]));return n}return ol.call(t)}return t}function Pt(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function Dt(t){var e=t[t.length-1].value;return c(e&&e[0])?2:1}function Ot(t,e,n,i,r,o){var a=t._getter,s=t._setter,l="spline"===e,h=i.length;if(h){var u,f=c(i[0].value),d=!1,g=!1,p=f?Dt(i):0;i.sort(function(t,e){return t.time-e.time}),u=i[h-1].time;for(var v=[],m=[],y=i[0].value,_=!0,x=0;x<h;x++){v.push(i[x].time/u);var w=i[x].value;if(f&&It(w,y,p)||!f&&w===y||(_=!1),y=w,"string"==typeof w){var b=mt(w);b?(w=b,d=!0):g=!0}m.push(w)}if(o||!_){for(var S=m[h-1],x=0;x<h-1;x++)f?Ct(m[x],S,p):!isNaN(m[x])||isNaN(S)||g||d||(m[x]=S);f&&Ct(a(t._target,r),S,p);var M,T,C,I,A,k,L=0,P=0;if(d)var D=[0,0,0,0];var O=new lt({target:t._target,life:u,loop:t._loop,delay:t._delay,onframe:function(t,e){var n;if(e<0)n=0;else if(e<P){for(n=M=Math.min(L+1,h-1);n>=0&&!(v[n]<=e);n--);n=Math.min(n,h-2)}else{for(n=L;n<h&&!(v[n]>e);n++);n=Math.min(n-1,h-2)}L=n,P=e;var i=v[n+1]-v[n];if(0!==i)if(T=(e-v[n])/i,l)if(I=m[n],C=m[0===n?n:n-1],A=m[n>h-2?h-1:n+1],k=m[n>h-3?h-1:n+2],f)At(C,I,A,k,T,T*T,T*T*T,a(t,r),p);else{if(d)o=At(C,I,A,k,T,T*T,T*T*T,D,1),o=Pt(D);else{if(g)return Mt(I,A,T);o=kt(C,I,A,k,T,T*T,T*T*T)}s(t,r,o)}else if(f)Tt(m[n],m[n+1],T,a(t,r),p);else{var o;if(d)Tt(m[n],m[n+1],T,D,1),o=Pt(D);else{if(g)return Mt(m[n],m[n+1],T);o=St(m[n],m[n+1],T)}s(t,r,o)}},ondestroy:n});return e&&"spline"!==e&&(O.easing=e),O}}}function zt(t,e,n,i){n<0&&(t+=n,n=-n),i<0&&(e+=i,i=-i),this.x=t,this.y=e,this.width=n,this.height=i}function Bt(t){for(var e=0;t>=ml;)e|=1&t,t>>=1;return t+e}function Et(t,e,n,i){var r=e+1;if(r===n)return 1;if(i(t[r++],t[e])<0){for(;r<n&&i(t[r],t[r-1])<0;)r++;Nt(t,e,r)}else for(;r<n&&i(t[r],t[r-1])>=0;)r++;return r-e}function Nt(t,e,n){for(n--;e<n;){var i=t[e];t[e++]=t[n],t[n--]=i}}function Rt(t,e,n,i,r){for(i===e&&i++;i<n;i++){for(var o,a=t[i],s=e,l=i;s<l;)r(a,t[o=s+l>>>1])<0?l=o:s=o+1;var h=i-s;switch(h){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;h>0;)t[s+h]=t[s+h-1],h--}t[s]=a}}function Ft(t,e,n,i,r,o){var a=0,s=0,l=1;if(o(t,e[n+r])>0){for(s=i-r;l<s&&o(t,e[n+r+l])>0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}else{for(s=r+1;l<s&&o(t,e[n+r-l])<=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var h=a;a=r-l,l=r-h}for(a++;a<l;){var u=a+(l-a>>>1);o(t,e[n+u])>0?a=u+1:l=u}return l}function Wt(t,e,n,i,r,o){var a=0,s=0,l=1;if(o(t,e[n+r])<0){for(s=r+1;l<s&&o(t,e[n+r-l])<0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var h=a;a=r-l,l=r-h}else{for(s=i-r;l<s&&o(t,e[n+r+l])>=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}for(a++;a<l;){var u=a+(l-a>>>1);o(t,e[n+u])<0?l=u:a=u+1}return l}function Vt(t,e){function n(n){var s=o[n],h=a[n],u=o[n+1],c=a[n+1];a[n]=h+c,n===l-3&&(o[n+1]=o[n+2],a[n+1]=a[n+2]),l--;var f=Wt(t[u],t,s,h,0,e);s+=f,0!==(h-=f)&&0!==(c=Ft(t[s+h-1],t,u,c,c-1,e))&&(h<=c?i(s,h,u,c):r(s,h,u,c))}function i(n,i,r,o){var a=0;for(a=0;a<i;a++)h[a]=t[n+a];var l=0,u=r,c=n;if(t[c++]=t[u++],0!=--o)if(1!==i){for(var f,d,g,p=s;;){f=0,d=0,g=!1;do{if(e(t[u],h[l])<0){if(t[c++]=t[u++],d++,f=0,0==--o){g=!0;break}}else if(t[c++]=h[l++],f++,d=0,1==--i){g=!0;break}}while((f|d)<p);if(g)break;do{if(0!==(f=Wt(t[u],h,l,i,0,e))){for(a=0;a<f;a++)t[c+a]=h[l+a];if(c+=f,l+=f,(i-=f)<=1){g=!0;break}}if(t[c++]=t[u++],0==--o){g=!0;break}if(0!==(d=Ft(h[l],t,u,o,0,e))){for(a=0;a<d;a++)t[c+a]=t[u+a];if(c+=d,u+=d,0===(o-=d)){g=!0;break}}if(t[c++]=h[l++],1==--i){g=!0;break}p--}while(f>=yl||d>=yl);if(g)break;p<0&&(p=0),p+=2}if((s=p)<1&&(s=1),1===i){for(a=0;a<o;a++)t[c+a]=t[u+a];t[c+o]=h[l]}else{if(0===i)throw new Error;for(a=0;a<i;a++)t[c+a]=h[l+a]}}else{for(a=0;a<o;a++)t[c+a]=t[u+a];t[c+o]=h[l]}else for(a=0;a<i;a++)t[c+a]=h[l+a]}function r(n,i,r,o){var a=0;for(a=0;a<o;a++)h[a]=t[r+a];var l=n+i-1,u=o-1,c=r+o-1,f=0,d=0;if(t[c--]=t[l--],0!=--i)if(1!==o){for(var g=s;;){var p=0,v=0,m=!1;do{if(e(h[u],t[l])<0){if(t[c--]=t[l--],p++,v=0,0==--i){m=!0;break}}else if(t[c--]=h[u--],v++,p=0,1==--o){m=!0;break}}while((p|v)<g);if(m)break;do{if(0!=(p=i-Wt(h[u],t,n,i,i-1,e))){for(i-=p,d=(c-=p)+1,f=(l-=p)+1,a=p-1;a>=0;a--)t[d+a]=t[f+a];if(0===i){m=!0;break}}if(t[c--]=h[u--],1==--o){m=!0;break}if(0!=(v=o-Ft(t[l],h,0,o,o-1,e))){for(o-=v,d=(c-=v)+1,f=(u-=v)+1,a=0;a<v;a++)t[d+a]=h[f+a];if(o<=1){m=!0;break}}if(t[c--]=t[l--],0==--i){m=!0;break}g--}while(p>=yl||v>=yl);if(m)break;g<0&&(g=0),g+=2}if((s=g)<1&&(s=1),1===o){for(d=(c-=i)+1,f=(l-=i)+1,a=i-1;a>=0;a--)t[d+a]=t[f+a];t[c]=h[u]}else{if(0===o)throw new Error;for(f=c-(o-1),a=0;a<o;a++)t[f+a]=h[a]}}else{for(d=(c-=i)+1,f=(l-=i)+1,a=i-1;a>=0;a--)t[d+a]=t[f+a];t[c]=h[u]}else for(f=c-(o-1),a=0;a<o;a++)t[f+a]=h[a]}var o,a,s=yl,l=0,h=[];o=[],a=[],this.mergeRuns=function(){for(;l>1;){var t=l-2;if(t>=1&&a[t-1]<=a[t]+a[t+1]||t>=2&&a[t-2]<=a[t]+a[t-1])a[t-1]<a[t+1]&&t--;else if(a[t]>a[t+1])break;n(t)}},this.forceMergeRuns=function(){for(;l>1;){var t=l-2;t>0&&a[t-1]<a[t+1]&&t--,n(t)}},this.pushRun=function(t,e){o[l]=t,a[l]=e,l+=1}}function Gt(t,e,n,i){n||(n=0),i||(i=t.length);var r=i-n;if(!(r<2)){var o=0;if(r<ml)return o=Et(t,n,i,e),void Rt(t,n,i,n+o,e);var a=new Vt(t,e),s=Bt(r);do{if((o=Et(t,n,i,e))<s){var l=r;l>s&&(l=s),Rt(t,n,n+l,n+o,e),o=l}a.pushRun(n,o),a.mergeRuns(),r-=o,n+=o}while(0!==r);a.forceMergeRuns()}}function Ht(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}function qt(t,e,n){var i=null==e.x?0:e.x,r=null==e.x2?1:e.x2,o=null==e.y?0:e.y,a=null==e.y2?0:e.y2;return e.global||(i=i*n.width+n.x,r=r*n.width+n.x,o=o*n.height+n.y,a=a*n.height+n.y),t.createLinearGradient(i,o,r,a)}function Xt(t,e,n){var i=n.width,r=n.height,o=Math.min(i,r),a=null==e.x?.5:e.x,s=null==e.y?.5:e.y,l=null==e.r?.5:e.r;return e.global||(a=a*i+n.x,s=s*r+n.y,l*=o),t.createRadialGradient(a,s,0,a,s,l)}function Zt(){return!1}function Yt(t,e,n){var i=Os(),r=e.getWidth(),o=e.getHeight(),a=i.style;return a.position="absolute",a.left=0,a.top=0,a.width=r+"px",a.height=o+"px",i.width=r*n,i.height=o*n,i.setAttribute("data-zr-dom-id",t),i}function Ut(t){if("string"==typeof t){var e=Al.get(t);return e&&e.image}return t}function jt(t,e,n,i,r){if(t){if("string"==typeof t){if(e&&e.__zrImageSrc===t||!n)return e;var o=Al.get(t),a={hostEl:n,cb:i,cbPayload:r};return o?!Qt(e=o.image)&&o.pending.push(a):(!e&&(e=new Image),e.onload=$t,Al.put(t,e.__cachedImgObj={image:e,pending:[a]}),e.src=e.__zrImageSrc=t),e}return t}return e}function $t(){var t=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],i=n.cb;i&&i(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function Qt(t){return t&&t.width&&t.height}function Kt(t,e){var n=t+":"+(e=e||Ol);if(kl[n])return kl[n];for(var i=(t+"").split("\n"),r=0,o=0,a=i.length;o<a;o++)r=Math.max(ue(i[o],e).width,r);return Ll>Pl&&(Ll=0,kl={}),Ll++,kl[n]=r,r}function Jt(t,e,n,i,r,o,a){return o?ee(t,e,n,i,r,o,a):te(t,e,n,i,r,a)}function te(t,e,n,i,r,o){var a=ce(t,e,r,o),s=Kt(t,e);r&&(s+=r[1]+r[3]);var l=a.outerHeight,h=new zt(ne(0,s,n),ie(0,l,i),s,l);return h.lineHeight=a.lineHeight,h}function ee(t,e,n,i,r,o,a){var s=fe(t,{rich:o,truncate:a,font:e,textAlign:n,textPadding:r}),l=s.outerWidth,h=s.outerHeight;return new zt(ne(0,l,n),ie(0,h,i),l,h)}function ne(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function ie(t,e,n){return"middle"===n?t-=e/2:"bottom"===n&&(t-=e),t}function re(t,e,n){var i=e.x,r=e.y,o=e.height,a=e.width,s=o/2,l="left",h="top";switch(t){case"left":i-=n,r+=s,l="right",h="middle";break;case"right":i+=n+a,r+=s,h="middle";break;case"top":i+=a/2,r-=n,l="center",h="bottom";break;case"bottom":i+=a/2,r+=o+n,l="center";break;case"inside":i+=a/2,r+=s,l="center",h="middle";break;case"insideLeft":i+=n,r+=s,h="middle";break;case"insideRight":i+=a-n,r+=s,l="right",h="middle";break;case"insideTop":i+=a/2,r+=n,l="center";break;case"insideBottom":i+=a/2,r+=o-n,l="center",h="bottom";break;case"insideTopLeft":i+=n,r+=n;break;case"insideTopRight":i+=a-n,r+=n,l="right";break;case"insideBottomLeft":i+=n,r+=o-n,h="bottom";break;case"insideBottomRight":i+=a-n,r+=o-n,l="right",h="bottom"}return{x:i,y:r,textAlign:l,textVerticalAlign:h}}function oe(t,e,n,i,r){if(!e)return"";var o=(t+"").split("\n");r=ae(e,n,i,r);for(var a=0,s=o.length;a<s;a++)o[a]=se(o[a],r);return o.join("\n")}function ae(t,e,n,i){(i=o({},i)).font=e;var n=C(n,"...");i.maxIterations=C(i.maxIterations,2);var r=i.minChar=C(i.minChar,0);i.cnCharWidth=Kt("国",e);var a=i.ascCharWidth=Kt("a",e);i.placeholder=C(i.placeholder,"");for(var s=t=Math.max(0,t-1),l=0;l<r&&s>=a;l++)s-=a;var h=Kt(n);return h>s&&(n="",h=0),s=t-h,i.ellipsis=n,i.ellipsisWidth=h,i.contentWidth=s,i.containerWidth=t,i}function se(t,e){var n=e.containerWidth,i=e.font,r=e.contentWidth;if(!n)return"";var o=Kt(t,i);if(o<=n)return t;for(var a=0;;a++){if(o<=r||a>=e.maxIterations){t+=e.ellipsis;break}var s=0===a?le(t,r,e.ascCharWidth,e.cnCharWidth):o>0?Math.floor(t.length*r/o):0;o=Kt(t=t.substr(0,s),i)}return""===t&&(t=e.placeholder),t}function le(t,e,n,i){for(var r=0,o=0,a=t.length;o<a&&r<e;o++){var s=t.charCodeAt(o);r+=0<=s&&s<=127?n:i}return o}function he(t){return Kt("国",t)}function ue(t,e){return zl.measureText(t,e)}function ce(t,e,n,i){null!=t&&(t+="");var r=he(e),o=t?t.split("\n"):[],a=o.length*r,s=a;if(n&&(s+=n[0]+n[2]),t&&i){var l=i.outerHeight,h=i.outerWidth;if(null!=l&&s>l)t="",o=[];else if(null!=h)for(var u=ae(h-(n?n[1]+n[3]:0),e,i.ellipsis,{minChar:i.minChar,placeholder:i.placeholder}),c=0,f=o.length;c<f;c++)o[c]=se(o[c],u)}return{lines:o,height:a,outerHeight:s,lineHeight:r}}function fe(t,e){var n={lines:[],width:0,height:0};if(null!=t&&(t+=""),!t)return n;for(var i,r=Dl.lastIndex=0;null!=(i=Dl.exec(t));){var o=i.index;o>r&&de(n,t.substring(r,o)),de(n,i[2],i[1]),r=Dl.lastIndex}r<t.length&&de(n,t.substring(r,t.length));var a=n.lines,s=0,l=0,h=[],u=e.textPadding,c=e.truncate,f=c&&c.outerWidth,d=c&&c.outerHeight;u&&(null!=f&&(f-=u[1]+u[3]),null!=d&&(d-=u[0]+u[2]));for(L=0;L<a.length;L++){for(var g=a[L],p=0,v=0,m=0;m<g.tokens.length;m++){var y=(P=g.tokens[m]).styleName&&e.rich[P.styleName]||{},_=P.textPadding=y.textPadding,x=P.font=y.font||e.font,w=P.textHeight=C(y.textHeight,he(x));if(_&&(w+=_[0]+_[2]),P.height=w,P.lineHeight=I(y.textLineHeight,e.textLineHeight,w),P.textAlign=y&&y.textAlign||e.textAlign,P.textVerticalAlign=y&&y.textVerticalAlign||"middle",null!=d&&s+P.lineHeight>d)return{lines:[],width:0,height:0};P.textWidth=Kt(P.text,x);var b=y.textWidth,S=null==b||"auto"===b;if("string"==typeof b&&"%"===b.charAt(b.length-1))P.percentWidth=b,h.push(P),b=0;else{if(S){b=P.textWidth;var M=y.textBackgroundColor,T=M&&M.image;T&&Qt(T=Ut(T))&&(b=Math.max(b,T.width*w/T.height))}var A=_?_[1]+_[3]:0;b+=A;var k=null!=f?f-v:null;null!=k&&k<b&&(!S||k<A?(P.text="",P.textWidth=b=0):(P.text=oe(P.text,k-A,x,c.ellipsis,{minChar:c.minChar}),P.textWidth=Kt(P.text,x),b=P.textWidth+A))}v+=P.width=b,y&&(p=Math.max(p,P.lineHeight))}g.width=v,g.lineHeight=p,s+=p,l=Math.max(l,v)}n.outerWidth=n.width=C(e.textWidth,l),n.outerHeight=n.height=C(e.textHeight,s),u&&(n.outerWidth+=u[1]+u[3],n.outerHeight+=u[0]+u[2]);for(var L=0;L<h.length;L++){var P=h[L],D=P.percentWidth;P.width=parseInt(D,10)/100*l}return n}function de(t,e,n){for(var i=""===e,r=e.split("\n"),o=t.lines,a=0;a<r.length;a++){var s=r[a],l={styleName:n,text:s,isLineHolder:!s&&!i};if(a)o.push({tokens:[l]});else{var h=(o[o.length-1]||(o[0]={tokens:[]})).tokens,u=h.length;1===u&&h[0].isLineHolder?h[0]=l:(s||!u||i)&&h.push(l)}}}function ge(t){return(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+"px",t.fontFamily||"sans-serif"].join(" ")||t.textFont||t.font}function pe(t,e){var n,i,r,o,a=e.x,s=e.y,l=e.width,h=e.height,u=e.r;l<0&&(a+=l,l=-l),h<0&&(s+=h,h=-h),"number"==typeof u?n=i=r=o=u:u instanceof Array?1===u.length?n=i=r=o=u[0]:2===u.length?(n=r=u[0],i=o=u[1]):3===u.length?(n=u[0],i=o=u[1],r=u[2]):(n=u[0],i=u[1],r=u[2],o=u[3]):n=i=r=o=0;var c;n+i>l&&(n*=l/(c=n+i),i*=l/c),r+o>l&&(r*=l/(c=r+o),o*=l/c),i+r>h&&(i*=h/(c=i+r),r*=h/c),n+o>h&&(n*=h/(c=n+o),o*=h/c),t.moveTo(a+n,s),t.lineTo(a+l-i,s),0!==i&&t.quadraticCurveTo(a+l,s,a+l,s+i),t.lineTo(a+l,s+h-r),0!==r&&t.quadraticCurveTo(a+l,s+h,a+l-r,s+h),t.lineTo(a+o,s+h),0!==o&&t.quadraticCurveTo(a,s+h,a,s+h-o),t.lineTo(a,s+n),0!==n&&t.quadraticCurveTo(a,s,a+n,s)}function ve(t){return me(t),f(t.rich,me),t}function me(t){if(t){t.font=ge(t);var e=t.textAlign;"middle"===e&&(e="center"),t.textAlign=null==e||Bl[e]?e:"left";var n=t.textVerticalAlign||t.textBaseline;"center"===n&&(n="middle"),t.textVerticalAlign=null==n||El[n]?n:"top",t.textPadding&&(t.textPadding=k(t.textPadding))}}function ye(t,e,n,i,r){i.rich?xe(t,e,n,i,r):_e(t,e,n,i,r)}function _e(t,e,n,i,r){var o=Ae(e,"font",i.font||Ol),a=i.textPadding,s=t.__textCotentBlock;s&&!t.__dirty||(s=t.__textCotentBlock=ce(n,o,a,i.truncate));var l=s.outerHeight,h=s.lines,u=s.lineHeight,c=Ie(l,i,r),f=c.baseX,d=c.baseY,g=c.textAlign,p=c.textVerticalAlign;be(e,i,r,f,d);var v=ie(d,l,p),m=f,y=v,_=Me(i);if(_||a){var x=Kt(n,o);a&&(x+=a[1]+a[3]);var w=ne(f,x,g);_&&Te(t,e,i,w,v,x,l),a&&(m=De(f,g,a),y+=a[0])}Ae(e,"textAlign",g||"left"),Ae(e,"textBaseline","middle"),Ae(e,"shadowBlur",i.textShadowBlur||0),Ae(e,"shadowColor",i.textShadowColor||"transparent"),Ae(e,"shadowOffsetX",i.textShadowOffsetX||0),Ae(e,"shadowOffsetY",i.textShadowOffsetY||0),y+=u/2;var b=i.textStrokeWidth,S=ke(i.textStroke,b),M=Le(i.textFill);S&&(Ae(e,"lineWidth",b),Ae(e,"strokeStyle",S)),M&&Ae(e,"fillStyle",M);for(var T=0;T<h.length;T++)S&&e.strokeText(h[T],m,y),M&&e.fillText(h[T],m,y),y+=u}function xe(t,e,n,i,r){var o=t.__textCotentBlock;o&&!t.__dirty||(o=t.__textCotentBlock=fe(n,i)),we(t,e,o,i,r)}function we(t,e,n,i,r){var o=n.width,a=n.outerWidth,s=n.outerHeight,l=i.textPadding,h=Ie(s,i,r),u=h.baseX,c=h.baseY,f=h.textAlign,d=h.textVerticalAlign;be(e,i,r,u,c);var g=ne(u,a,f),p=ie(c,s,d),v=g,m=p;l&&(v+=l[3],m+=l[0]);var y=v+o;Me(i)&&Te(t,e,i,g,p,a,s);for(var _=0;_<n.lines.length;_++){for(var x,w=n.lines[_],b=w.tokens,S=b.length,M=w.lineHeight,T=w.width,C=0,I=v,A=y,k=S-1;C<S&&(!(x=b[C]).textAlign||"left"===x.textAlign);)Se(t,e,x,i,M,m,I,"left"),T-=x.width,I+=x.width,C++;for(;k>=0&&"right"===(x=b[k]).textAlign;)Se(t,e,x,i,M,m,A,"right"),T-=x.width,A-=x.width,k--;for(I+=(o-(I-v)-(y-A)-T)/2;C<=k;)Se(t,e,x=b[C],i,M,m,I+x.width/2,"center"),I+=x.width,C++;m+=M}}function be(t,e,n,i,r){if(n&&e.textRotation){var o=e.textOrigin;"center"===o?(i=n.width/2+n.x,r=n.height/2+n.y):o&&(i=o[0]+n.x,r=o[1]+n.y),t.translate(i,r),t.rotate(-e.textRotation),t.translate(-i,-r)}}function Se(t,e,n,i,r,o,a,s){var l=i.rich[n.styleName]||{},h=n.textVerticalAlign,u=o+r/2;"top"===h?u=o+n.height/2:"bottom"===h&&(u=o+r-n.height/2),!n.isLineHolder&&Me(l)&&Te(t,e,l,"right"===s?a-n.width:"center"===s?a-n.width/2:a,u-n.height/2,n.width,n.height);var c=n.textPadding;c&&(a=De(a,s,c),u-=n.height/2-c[2]-n.textHeight/2),Ae(e,"shadowBlur",I(l.textShadowBlur,i.textShadowBlur,0)),Ae(e,"shadowColor",l.textShadowColor||i.textShadowColor||"transparent"),Ae(e,"shadowOffsetX",I(l.textShadowOffsetX,i.textShadowOffsetX,0)),Ae(e,"shadowOffsetY",I(l.textShadowOffsetY,i.textShadowOffsetY,0)),Ae(e,"textAlign",s),Ae(e,"textBaseline","middle"),Ae(e,"font",n.font||Ol);var f=ke(l.textStroke||i.textStroke,g),d=Le(l.textFill||i.textFill),g=C(l.textStrokeWidth,i.textStrokeWidth);f&&(Ae(e,"lineWidth",g),Ae(e,"strokeStyle",f),e.strokeText(n.text,a,u)),d&&(Ae(e,"fillStyle",d),e.fillText(n.text,a,u))}function Me(t){return t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor}function Te(t,e,n,i,r,o,a){var s=n.textBackgroundColor,l=n.textBorderWidth,h=n.textBorderColor,u=x(s);if(Ae(e,"shadowBlur",n.textBoxShadowBlur||0),Ae(e,"shadowColor",n.textBoxShadowColor||"transparent"),Ae(e,"shadowOffsetX",n.textBoxShadowOffsetX||0),Ae(e,"shadowOffsetY",n.textBoxShadowOffsetY||0),u||l&&h){e.beginPath();var c=n.textBorderRadius;c?pe(e,{x:i,y:r,width:o,height:a,r:c}):e.rect(i,r,o,a),e.closePath()}if(u)Ae(e,"fillStyle",s),e.fill();else if(w(s)){var f=s.image;(f=jt(f,null,t,Ce,s))&&Qt(f)&&e.drawImage(f,i,r,o,a)}l&&h&&(Ae(e,"lineWidth",l),Ae(e,"strokeStyle",h),e.stroke())}function Ce(t,e){e.image=t}function Ie(t,e,n){var i=e.x||0,r=e.y||0,o=e.textAlign,a=e.textVerticalAlign;if(n){var s=e.textPosition;if(s instanceof Array)i=n.x+Pe(s[0],n.width),r=n.y+Pe(s[1],n.height);else{var l=re(s,n,e.textDistance);i=l.x,r=l.y,o=o||l.textAlign,a=a||l.textVerticalAlign}var h=e.textOffset;h&&(i+=h[0],r+=h[1])}return{baseX:i,baseY:r,textAlign:o,textVerticalAlign:a}}function Ae(t,e,n){return t[e]=n,t[e]}function ke(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function Le(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function Pe(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function De(t,e,n){return"right"===e?t-n[1]:"center"===e?t+n[3]/2-n[1]/2:t+n[3]}function Oe(t,e){return null!=t&&(t||e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor||e.textPadding)}function ze(t){t=t||{},fl.call(this,t);for(var e in t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new wl(t.style,this),this._rect=null,this.__clipPaths=[]}function Be(t){ze.call(this,t)}function Ee(t){return parseInt(t,10)}function Ne(t){return!!t&&(!!t.__builtin__||"function"==typeof t.resize&&"function"==typeof t.refresh)}function Re(t){t.__unusedCount++}function Fe(t){1==t.__unusedCount&&t.clear()}function We(t,e,n){return Fl.copy(t.getBoundingRect()),t.transform&&Fl.applyTransform(t.transform),Wl.width=e,Wl.height=n,!Fl.intersect(Wl)}function Ve(t,e){if(t==e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!0}function Ge(t,e){for(var n=0;n<t.length;n++){var i=t[n];i.setTransform(e),e.beginPath(),i.buildPath(e,i.shape),e.clip(),i.restoreTransform(e)}}function He(t,e){var n=document.createElement("div");return n.style.cssText=["position:relative","overflow:hidden","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}function qe(t){return t.getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0}}function Xe(t,e,n,i){return n=n||{},i||!bs.canvasSupported?Ze(t,e,n):bs.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):null!=e.offsetX?(n.zrX=e.offsetX,n.zrY=e.offsetY):Ze(t,e,n),n}function Ze(t,e,n){var i=qe(t);n.zrX=e.clientX-i.left,n.zrY=e.clientY-i.top}function Ye(t,e,n){if(null!=(e=e||window.event).zrX)return e;var i=e.type;if(i&&i.indexOf("touch")>=0){var r="touchend"!=i?e.targetTouches[0]:e.changedTouches[0];r&&Xe(t,r,e,n)}else Xe(t,e,e,n),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;var o=e.button;return null==e.which&&void 0!==o&&Hl.test(e.type)&&(e.which=1&o?1:2&o?3:4&o?2:0),e}function Ue(t,e,n){Gl?t.addEventListener(e,n):t.attachEvent("on"+e,n)}function je(t,e,n){Gl?t.removeEventListener(e,n):t.detachEvent("on"+e,n)}function $e(t){var e=t[1][0]-t[0][0],n=t[1][1]-t[0][1];return Math.sqrt(e*e+n*n)}function Qe(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}function Ke(t){return"mousewheel"===t&&bs.browser.firefox?"DOMMouseScroll":t}function Je(t,e,n){var i=t._gestureMgr;"start"===n&&i.clear();var r=i.recognize(e,t.handler.findHover(e.zrX,e.zrY,null).target,t.dom);if("end"===n&&i.clear(),r){var o=r.type;e.gestureEvent=o,t.handler.dispatchToElement({target:r.target},o,r.event)}}function tn(t){t._touching=!0,clearTimeout(t._touchTimer),t._touchTimer=setTimeout(function(){t._touching=!1},700)}function en(t){var e=t.pointerType;return"pen"===e||"touch"===e}function nn(t){function e(t,e){return function(){if(!e._touching)return t.apply(e,arguments)}}f(Ul,function(e){t._handlers[e]=v(Ql[e],t)}),f($l,function(e){t._handlers[e]=v(Ql[e],t)}),f(Yl,function(n){t._handlers[n]=e(Ql[n],t)})}function rn(t){function e(e,n){f(e,function(e){Ue(t,Ke(e),n._handlers[e])},n)}Ws.call(this),this.dom=t,this._touching=!1,this._touchTimer,this._gestureMgr=new Xl,this._handlers={},nn(this),bs.pointerEventsSupported?e($l,this):(bs.touchEventsSupported&&e(Ul,this),e(Yl,this))}function on(t,e){return new eh(xs(),t,e)}function an(t){return t.replace(/^\s+/,"").replace(/\s+$/,"")}function sn(t,e,n,i){var r=e[1]-e[0],o=n[1]-n[0];if(0===r)return 0===o?n[0]:(n[0]+n[1])/2;if(i)if(r>0){if(t<=e[0])return n[0];if(t>=e[1])return n[1]}else{if(t>=e[0])return n[0];if(t<=e[1])return n[1]}else{if(t===e[0])return n[0];if(t===e[1])return n[1]}return(t-e[0])/r*o+n[0]}function ln(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return"string"==typeof t?an(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t}function hn(t,e,n){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),n?t:+t}function un(t){var e=t.toString(),n=e.indexOf("e");if(n>0){var i=+e.slice(n+1);return i<0?-i:0}var r=e.indexOf(".");return r<0?0:e.length-1-r}function cn(t,e){var n=Math.log,i=Math.LN10,r=Math.floor(n(t[1]-t[0])/i),o=Math.round(n(Math.abs(e[1]-e[0]))/i),a=Math.min(Math.max(-r+o,0),20);return isFinite(a)?a:20}function fn(t,e,n){if(!t[e])return 0;var i=g(t,function(t,e){return t+(isNaN(e)?0:e)},0);if(0===i)return 0;for(var r=Math.pow(10,n),o=d(t,function(t){return(isNaN(t)?0:t)/i*r*100}),a=100*r,s=d(o,function(t){return Math.floor(t)}),l=g(s,function(t,e){return t+e},0),h=d(o,function(t,e){return t-s[e]});l<a;){for(var u=Number.NEGATIVE_INFINITY,c=null,f=0,p=h.length;f<p;++f)h[f]>u&&(u=h[f],c=f);++s[c],h[c]=0,++l}return s[e]/r}function dn(t){var e=2*Math.PI;return(t%e+e)%e}function gn(t){return t>-nh&&t<nh}function pn(t){if(t instanceof Date)return t;if("string"==typeof t){var e=ih.exec(t);if(!e)return new Date(NaN);if(e[8]){var n=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(n-=e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,n,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}return null==t?new Date(NaN):new Date(Math.round(t))}function vn(t){return Math.pow(10,mn(t))}function mn(t){return Math.floor(Math.log(t)/Math.LN10)}function yn(t,e){var n,i=mn(t),r=Math.pow(10,i),o=t/r;return n=e?o<1.5?1:o<2.5?2:o<4?3:o<7?5:10:o<1?1:o<2?2:o<3?3:o<5?5:10,t=n*r,i>=-20?+t.toFixed(i<0?-i:0):t}function _n(t){return isNaN(t)?"-":(t=(t+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function xn(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function wn(t,e,n){y(e)||(e=[e]);var i=e.length;if(!i)return"";for(var r=e[0].$vars||[],o=0;o<r.length;o++){var a=oh[o],s=ah(a,0);t=t.replace(ah(a),n?xn(s):s)}for(var l=0;l<i;l++)for(var h=0;h<r.length;h++){s=e[l][r[h]];t=t.replace(ah(oh[h],l),n?xn(s):s)}return t}function bn(t,e){return t?'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+xn(t)+";"+(e||"")+'"></span>':""}function Sn(t,e,n){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var i=pn(e),r=n?"UTC":"",o=i["get"+r+"FullYear"](),a=i["get"+r+"Month"]()+1,s=i["get"+r+"Date"](),l=i["get"+r+"Hours"](),h=i["get"+r+"Minutes"](),u=i["get"+r+"Seconds"]();return t=t.replace("MM",sh(a)).replace("M",a).replace("yyyy",o).replace("yy",o%100).replace("dd",sh(s)).replace("d",s).replace("hh",sh(l)).replace("h",l).replace("mm",sh(h)).replace("m",h).replace("ss",sh(u)).replace("s",u)}function Mn(t,e,n){return t[ch+e]=n}function Tn(t,e){return t[ch+e]}function Cn(t,e){return t.hasOwnProperty(ch+e)}function In(t){var e={main:"",sub:""};return t&&(t=t.split(hh),e.main=t[0]||"",e.sub=t[1]||""),e}function An(t){L(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function kn(t,e){t.$constructor=t,t.extend=function(t){var e=this,n=function(){t.$constructor?t.$constructor.apply(this,arguments):e.apply(this,arguments)};return o(n.prototype,t),n.extend=this.extend,n.superCall=Ln,n.superApply=Pn,h(n,this),n.superClass=e,n}}function Ln(t,e){var n=A(arguments,2);return this.superClass.prototype[e].apply(t,n)}function Pn(t,e,n){return this.superClass.prototype[e].apply(t,n)}function Dn(t,e){function n(t){var e=i[t.main];return e&&e[uh]||((e=i[t.main]={})[uh]=!0),e}e=e||{};var i={};if(t.registerClass=function(t,e){return e&&(An(e),(e=In(e)).sub?e.sub!==uh&&(n(e)[e.sub]=t):i[e.main]=t),t},t.getClass=function(t,e,n){var r=i[t];if(r&&r[uh]&&(r=e?r[e]:null),n&&!r)throw new Error(e?"Component "+t+"."+(e||"")+" not exists. Load it first.":t+".type should be specified.");return r},t.getClassesByMainType=function(t){t=In(t);var e=[],n=i[t.main];return n&&n[uh]?f(n,function(t,n){n!==uh&&e.push(t)}):e.push(n),e},t.hasClass=function(t){return t=In(t),!!i[t.main]},t.getAllClassMainTypes=function(){var t=[];return f(i,function(e,n){t.push(n)}),t},t.hasSubTypes=function(t){t=In(t);var e=i[t.main];return e&&e[uh]},t.parseClassType=In,e.registerWhenExtend){var r=t.extend;r&&(t.extend=function(e){var n=r.call(this,e);return t.registerClass(n,e.type)})}return t}function On(t){return t>-_h&&t<_h}function zn(t){return t>_h||t<-_h}function Bn(t,e,n,i,r){var o=1-r;return o*o*(o*t+3*r*e)+r*r*(r*i+3*o*n)}function En(t,e,n,i,r){var o=1-r;return 3*(((e-t)*o+2*(n-e)*r)*o+(i-n)*r*r)}function Nn(t,e,n,i,r,o){var a=i+3*(e-n)-t,s=3*(n-2*e+t),l=3*(e-t),h=t-r,u=s*s-3*a*l,c=s*l-9*a*h,f=l*l-3*s*h,d=0;if(On(u)&&On(c))On(s)?o[0]=0:(M=-l/s)>=0&&M<=1&&(o[d++]=M);else{var g=c*c-4*u*f;if(On(g)){var p=c/u,v=-p/2;(M=-s/a+p)>=0&&M<=1&&(o[d++]=M),v>=0&&v<=1&&(o[d++]=v)}else if(g>0){var m=yh(g),y=u*s+1.5*a*(-c+m),_=u*s+1.5*a*(-c-m);(M=(-s-((y=y<0?-mh(-y,bh):mh(y,bh))+(_=_<0?-mh(-_,bh):mh(_,bh))))/(3*a))>=0&&M<=1&&(o[d++]=M)}else{var x=(2*u*s-3*a*c)/(2*yh(u*u*u)),w=Math.acos(x)/3,b=yh(u),S=Math.cos(w),M=(-s-2*b*S)/(3*a),v=(-s+b*(S+wh*Math.sin(w)))/(3*a),T=(-s+b*(S-wh*Math.sin(w)))/(3*a);M>=0&&M<=1&&(o[d++]=M),v>=0&&v<=1&&(o[d++]=v),T>=0&&T<=1&&(o[d++]=T)}}return d}function Rn(t,e,n,i,r){var o=6*n-12*e+6*t,a=9*e+3*i-3*t-9*n,s=3*e-3*t,l=0;if(On(a))zn(o)&&(c=-s/o)>=0&&c<=1&&(r[l++]=c);else{var h=o*o-4*a*s;if(On(h))r[0]=-o/(2*a);else if(h>0){var u=yh(h),c=(-o+u)/(2*a),f=(-o-u)/(2*a);c>=0&&c<=1&&(r[l++]=c),f>=0&&f<=1&&(r[l++]=f)}}return l}function Fn(t,e,n,i,r,o){var a=(e-t)*r+t,s=(n-e)*r+e,l=(i-n)*r+n,h=(s-a)*r+a,u=(l-s)*r+s,c=(u-h)*r+h;o[0]=t,o[1]=a,o[2]=h,o[3]=c,o[4]=c,o[5]=u,o[6]=l,o[7]=i}function Wn(t,e,n,i,r,o,a,s,l,h,u){var c,f,d,g,p,v=.005,m=1/0;Sh[0]=l,Sh[1]=h;for(var y=0;y<1;y+=.05)Mh[0]=Bn(t,n,r,a,y),Mh[1]=Bn(e,i,o,s,y),(g=Rs(Sh,Mh))<m&&(c=y,m=g);m=1/0;for(var _=0;_<32&&!(v<xh);_++)f=c-v,d=c+v,Mh[0]=Bn(t,n,r,a,f),Mh[1]=Bn(e,i,o,s,f),g=Rs(Mh,Sh),f>=0&&g<m?(c=f,m=g):(Th[0]=Bn(t,n,r,a,d),Th[1]=Bn(e,i,o,s,d),p=Rs(Th,Sh),d<=1&&p<m?(c=d,m=p):v*=.5);return u&&(u[0]=Bn(t,n,r,a,c),u[1]=Bn(e,i,o,s,c)),yh(m)}function Vn(t,e,n,i){var r=1-i;return r*(r*t+2*i*e)+i*i*n}function Gn(t,e,n,i){return 2*((1-i)*(e-t)+i*(n-e))}function Hn(t,e,n,i,r){var o=t-2*e+n,a=2*(e-t),s=t-i,l=0;if(On(o))zn(a)&&(c=-s/a)>=0&&c<=1&&(r[l++]=c);else{var h=a*a-4*o*s;if(On(h))(c=-a/(2*o))>=0&&c<=1&&(r[l++]=c);else if(h>0){var u=yh(h),c=(-a+u)/(2*o),f=(-a-u)/(2*o);c>=0&&c<=1&&(r[l++]=c),f>=0&&f<=1&&(r[l++]=f)}}return l}function qn(t,e,n){var i=t+n-2*e;return 0===i?.5:(t-e)/i}function Xn(t,e,n,i,r){var o=(e-t)*i+t,a=(n-e)*i+e,s=(a-o)*i+o;r[0]=t,r[1]=o,r[2]=s,r[3]=s,r[4]=a,r[5]=n}function Zn(t,e,n,i,r,o,a,s,l){var h,u=.005,c=1/0;Sh[0]=a,Sh[1]=s;for(var f=0;f<1;f+=.05)Mh[0]=Vn(t,n,r,f),Mh[1]=Vn(e,i,o,f),(v=Rs(Sh,Mh))<c&&(h=f,c=v);c=1/0;for(var d=0;d<32&&!(u<xh);d++){var g=h-u,p=h+u;Mh[0]=Vn(t,n,r,g),Mh[1]=Vn(e,i,o,g);var v=Rs(Mh,Sh);if(g>=0&&v<c)h=g,c=v;else{Th[0]=Vn(t,n,r,p),Th[1]=Vn(e,i,o,p);var m=Rs(Th,Sh);p<=1&&m<c?(h=p,c=m):u*=.5}}return l&&(l[0]=Vn(t,n,r,h),l[1]=Vn(e,i,o,h)),yh(c)}function Yn(t,e,n,i,r,o){r[0]=Ch(t,n),r[1]=Ch(e,i),o[0]=Ih(t,n),o[1]=Ih(e,i)}function Un(t,e,n,i,r,o,a,s,l,h){var u,c=Rn,f=Bn,d=c(t,n,r,a,zh);for(l[0]=1/0,l[1]=1/0,h[0]=-1/0,h[1]=-1/0,u=0;u<d;u++){var g=f(t,n,r,a,zh[u]);l[0]=Ch(g,l[0]),h[0]=Ih(g,h[0])}for(d=c(e,i,o,s,Bh),u=0;u<d;u++){var p=f(e,i,o,s,Bh[u]);l[1]=Ch(p,l[1]),h[1]=Ih(p,h[1])}l[0]=Ch(t,l[0]),h[0]=Ih(t,h[0]),l[0]=Ch(a,l[0]),h[0]=Ih(a,h[0]),l[1]=Ch(e,l[1]),h[1]=Ih(e,h[1]),l[1]=Ch(s,l[1]),h[1]=Ih(s,h[1])}function jn(t,e,n,i,r,o,a,s){var l=qn,h=Vn,u=Ih(Ch(l(t,n,r),1),0),c=Ih(Ch(l(e,i,o),1),0),f=h(t,n,r,u),d=h(e,i,o,c);a[0]=Ch(t,r,f),a[1]=Ch(e,o,d),s[0]=Ih(t,r,f),s[1]=Ih(e,o,d)}function $n(t,e,n,i,r,o,a,s,l){var h=Z,u=Y,c=Math.abs(r-o);if(c%Lh<1e-4&&c>1e-4)return s[0]=t-n,s[1]=e-i,l[0]=t+n,void(l[1]=e+i);if(Ph[0]=kh(r)*n+t,Ph[1]=Ah(r)*i+e,Dh[0]=kh(o)*n+t,Dh[1]=Ah(o)*i+e,h(s,Ph,Dh),u(l,Ph,Dh),(r%=Lh)<0&&(r+=Lh),(o%=Lh)<0&&(o+=Lh),r>o&&!a?o+=Lh:r<o&&a&&(r+=Lh),a){var f=o;o=r,r=f}for(var d=0;d<o;d+=Math.PI/2)d>r&&(Oh[0]=kh(d)*n+t,Oh[1]=Ah(d)*i+e,h(s,Oh,s),u(l,Oh,l))}function Qn(t,e,n,i,r,o,a){if(0===r)return!1;var s=r,l=0,h=t;if(a>e+s&&a>i+s||a<e-s&&a<i-s||o>t+s&&o>n+s||o<t-s&&o<n-s)return!1;if(t===n)return Math.abs(o-t)<=s/2;var u=(l=(e-i)/(t-n))*o-a+(h=(t*i-n*e)/(t-n));return u*u/(l*l+1)<=s/2*s/2}function Kn(t,e,n,i,r,o,a,s,l,h,u){if(0===l)return!1;var c=l;return!(u>e+c&&u>i+c&&u>o+c&&u>s+c||u<e-c&&u<i-c&&u<o-c&&u<s-c||h>t+c&&h>n+c&&h>r+c&&h>a+c||h<t-c&&h<n-c&&h<r-c&&h<a-c)&&Wn(t,e,n,i,r,o,a,s,h,u,null)<=c/2}function Jn(t,e,n,i,r,o,a,s,l){if(0===a)return!1;var h=a;return!(l>e+h&&l>i+h&&l>o+h||l<e-h&&l<i-h&&l<o-h||s>t+h&&s>n+h&&s>r+h||s<t-h&&s<n-h&&s<r-h)&&Zn(t,e,n,i,r,o,s,l,null)<=h/2}function ti(t){return(t%=jh)<0&&(t+=jh),t}function ei(t,e,n,i,r,o,a,s,l){if(0===a)return!1;var h=a;s-=t,l-=e;var u=Math.sqrt(s*s+l*l);if(u-h>n||u+h<n)return!1;if(Math.abs(i-r)%$h<1e-4)return!0;if(o){var c=i;i=ti(r),r=ti(c)}else i=ti(i),r=ti(r);i>r&&(r+=$h);var f=Math.atan2(l,s);return f<0&&(f+=$h),f>=i&&f<=r||f+$h>=i&&f+$h<=r}function ni(t,e,n,i,r,o){if(o>e&&o>i||o<e&&o<i)return 0;if(i===e)return 0;var a=i<e?1:-1,s=(o-e)/(i-e);return 1!==s&&0!==s||(a=i<e?.5:-.5),s*(n-t)+t>r?a:0}function ii(t,e){return Math.abs(t-e)<Jh}function ri(){var t=eu[0];eu[0]=eu[1],eu[1]=t}function oi(t,e,n,i,r,o,a,s,l,h){if(h>e&&h>i&&h>o&&h>s||h<e&&h<i&&h<o&&h<s)return 0;var u=Nn(e,i,o,s,h,tu);if(0===u)return 0;for(var c,f,d=0,g=-1,p=0;p<u;p++){var v=tu[p],m=0===v||1===v?.5:1;Bn(t,n,r,a,v)<l||(g<0&&(g=Rn(e,i,o,s,eu),eu[1]<eu[0]&&g>1&&ri(),c=Bn(e,i,o,s,eu[0]),g>1&&(f=Bn(e,i,o,s,eu[1]))),2==g?v<eu[0]?d+=c<e?m:-m:v<eu[1]?d+=f<c?m:-m:d+=s<f?m:-m:v<eu[0]?d+=c<e?m:-m:d+=s<c?m:-m)}return d}function ai(t,e,n,i,r,o,a,s){if(s>e&&s>i&&s>o||s<e&&s<i&&s<o)return 0;var l=Hn(e,i,o,s,tu);if(0===l)return 0;var h=qn(e,i,o);if(h>=0&&h<=1){for(var u=0,c=Vn(e,i,o,h),f=0;f<l;f++){d=0===tu[f]||1===tu[f]?.5:1;(g=Vn(t,n,r,tu[f]))<a||(tu[f]<h?u+=c<e?d:-d:u+=o<c?d:-d)}return u}var d=0===tu[0]||1===tu[0]?.5:1,g=Vn(t,n,r,tu[0]);return g<a?0:o<e?d:-d}function si(t,e,n,i,r,o,a,s){if((s-=e)>n||s<-n)return 0;h=Math.sqrt(n*n-s*s);tu[0]=-h,tu[1]=h;var l=Math.abs(i-r);if(l<1e-4)return 0;if(l%Kh<1e-4){i=0,r=Kh;g=o?1:-1;return a>=tu[0]+t&&a<=tu[1]+t?g:0}if(o){var h=i;i=ti(r),r=ti(h)}else i=ti(i),r=ti(r);i>r&&(r+=Kh);for(var u=0,c=0;c<2;c++){var f=tu[c];if(f+t>a){var d=Math.atan2(s,f),g=o?1:-1;d<0&&(d=Kh+d),(d>=i&&d<=r||d+Kh>=i&&d+Kh<=r)&&(d>Math.PI/2&&d<1.5*Math.PI&&(g=-g),u+=g)}}return u}function li(t,e,n,i,r){for(var o=0,a=0,s=0,l=0,h=0,u=0;u<t.length;){var c=t[u++];switch(c===Qh.M&&u>1&&(n||(o+=ni(a,s,l,h,i,r))),1==u&&(l=a=t[u],h=s=t[u+1]),c){case Qh.M:a=l=t[u++],s=h=t[u++];break;case Qh.L:if(n){if(Qn(a,s,t[u],t[u+1],e,i,r))return!0}else o+=ni(a,s,t[u],t[u+1],i,r)||0;a=t[u++],s=t[u++];break;case Qh.C:if(n){if(Kn(a,s,t[u++],t[u++],t[u++],t[u++],t[u],t[u+1],e,i,r))return!0}else o+=oi(a,s,t[u++],t[u++],t[u++],t[u++],t[u],t[u+1],i,r)||0;a=t[u++],s=t[u++];break;case Qh.Q:if(n){if(Jn(a,s,t[u++],t[u++],t[u],t[u+1],e,i,r))return!0}else o+=ai(a,s,t[u++],t[u++],t[u],t[u+1],i,r)||0;a=t[u++],s=t[u++];break;case Qh.A:var f=t[u++],d=t[u++],g=t[u++],p=t[u++],v=t[u++],m=t[u++],y=(t[u++],1-t[u++]),_=Math.cos(v)*g+f,x=Math.sin(v)*p+d;u>1?o+=ni(a,s,_,x,i,r):(l=_,h=x);var w=(i-f)*p/g+f;if(n){if(ei(f,d,p,v,v+m,y,e,w,r))return!0}else o+=si(f,d,p,v,v+m,y,w,r);a=Math.cos(v+m)*g+f,s=Math.sin(v+m)*p+d;break;case Qh.R:l=a=t[u++],h=s=t[u++];var _=l+t[u++],x=h+t[u++];if(n){if(Qn(l,h,_,h,e,i,r)||Qn(_,h,_,x,e,i,r)||Qn(_,x,l,x,e,i,r)||Qn(l,x,l,h,e,i,r))return!0}else o+=ni(_,h,_,x,i,r),o+=ni(l,x,l,h,i,r);break;case Qh.Z:if(n){if(Qn(a,s,l,h,e,i,r))return!0}else o+=ni(a,s,l,h,i,r);a=l,s=h}}return n||ii(s,h)||(o+=ni(a,s,l,h,i,r)||0),0!==o}function hi(t,e,n){return li(t,0,!1,e,n)}function ui(t,e,n,i){return li(t,e,!0,n,i)}function ci(t){ze.call(this,t),this.path=null}function fi(t,e,n,i,r,o,a,s,l,h,u){var c=l*(gu/180),f=du(c)*(t-n)/2+fu(c)*(e-i)/2,d=-1*fu(c)*(t-n)/2+du(c)*(e-i)/2,g=f*f/(a*a)+d*d/(s*s);g>1&&(a*=cu(g),s*=cu(g));var p=(r===o?-1:1)*cu((a*a*(s*s)-a*a*(d*d)-s*s*(f*f))/(a*a*(d*d)+s*s*(f*f)))||0,v=p*a*d/s,m=p*-s*f/a,y=(t+n)/2+du(c)*v-fu(c)*m,_=(e+i)/2+fu(c)*v+du(c)*m,x=mu([1,0],[(f-v)/a,(d-m)/s]),w=[(f-v)/a,(d-m)/s],b=[(-1*f-v)/a,(-1*d-m)/s],S=mu(w,b);vu(w,b)<=-1&&(S=gu),vu(w,b)>=1&&(S=0),0===o&&S>0&&(S-=2*gu),1===o&&S<0&&(S+=2*gu),u.addData(h,y,_,a,s,x,S,c,o)}function di(t){if(!t)return[];var e,n=t.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(e=0;e<uu.length;e++)n=n.replace(new RegExp(uu[e],"g"),"|"+uu[e]);var i,r=n.split("|"),o=0,a=0,s=new Uh,l=Uh.CMD;for(e=1;e<r.length;e++){var h,u=r[e],c=u.charAt(0),f=0,d=u.slice(1).replace(/e,-/g,"e-").split(",");d.length>0&&""===d[0]&&d.shift();for(var g=0;g<d.length;g++)d[g]=parseFloat(d[g]);for(;f<d.length&&!isNaN(d[f])&&!isNaN(d[0]);){var p,v,m,y,_,x,w,b=o,S=a;switch(c){case"l":o+=d[f++],a+=d[f++],h=l.L,s.addData(h,o,a);break;case"L":o=d[f++],a=d[f++],h=l.L,s.addData(h,o,a);break;case"m":o+=d[f++],a+=d[f++],h=l.M,s.addData(h,o,a),c="l";break;case"M":o=d[f++],a=d[f++],h=l.M,s.addData(h,o,a),c="L";break;case"h":o+=d[f++],h=l.L,s.addData(h,o,a);break;case"H":o=d[f++],h=l.L,s.addData(h,o,a);break;case"v":a+=d[f++],h=l.L,s.addData(h,o,a);break;case"V":a=d[f++],h=l.L,s.addData(h,o,a);break;case"C":h=l.C,s.addData(h,d[f++],d[f++],d[f++],d[f++],d[f++],d[f++]),o=d[f-2],a=d[f-1];break;case"c":h=l.C,s.addData(h,d[f++]+o,d[f++]+a,d[f++]+o,d[f++]+a,d[f++]+o,d[f++]+a),o+=d[f-2],a+=d[f-1];break;case"S":p=o,v=a;var M=s.len(),T=s.data;i===l.C&&(p+=o-T[M-4],v+=a-T[M-3]),h=l.C,b=d[f++],S=d[f++],o=d[f++],a=d[f++],s.addData(h,p,v,b,S,o,a);break;case"s":p=o,v=a;var M=s.len(),T=s.data;i===l.C&&(p+=o-T[M-4],v+=a-T[M-3]),h=l.C,b=o+d[f++],S=a+d[f++],o+=d[f++],a+=d[f++],s.addData(h,p,v,b,S,o,a);break;case"Q":b=d[f++],S=d[f++],o=d[f++],a=d[f++],h=l.Q,s.addData(h,b,S,o,a);break;case"q":b=d[f++]+o,S=d[f++]+a,o+=d[f++],a+=d[f++],h=l.Q,s.addData(h,b,S,o,a);break;case"T":p=o,v=a;var M=s.len(),T=s.data;i===l.Q&&(p+=o-T[M-4],v+=a-T[M-3]),o=d[f++],a=d[f++],h=l.Q,s.addData(h,p,v,o,a);break;case"t":p=o,v=a;var M=s.len(),T=s.data;i===l.Q&&(p+=o-T[M-4],v+=a-T[M-3]),o+=d[f++],a+=d[f++],h=l.Q,s.addData(h,p,v,o,a);break;case"A":m=d[f++],y=d[f++],_=d[f++],x=d[f++],w=d[f++],fi(b=o,S=a,o=d[f++],a=d[f++],x,w,m,y,_,h=l.A,s);break;case"a":m=d[f++],y=d[f++],_=d[f++],x=d[f++],w=d[f++],fi(b=o,S=a,o+=d[f++],a+=d[f++],x,w,m,y,_,h=l.A,s)}}"z"!==c&&"Z"!==c||(h=l.Z,s.addData(h)),i=h}return s.toStatic(),s}function gi(t,e){var n=di(t);return e=e||{},e.buildPath=function(t){if(t.setData)t.setData(n.data),(e=t.getContext())&&t.rebuildPath(e);else{var e=t;n.rebuildPath(e)}},e.applyTransform=function(t){hu(n,t),this.dirty(!0)},e}function pi(t,e){return new ci(gi(t,e))}function vi(t,e){return ci.extend(gi(t,e))}function mi(t,e,n,i,r,o,a){var s=.5*(n-t),l=.5*(i-e);return(2*(e-n)+s+l)*a+(-3*(e-n)-2*s-l)*o+s*r+e}function yi(t,e,n){var i=e.points,r=e.smooth;if(i&&i.length>=2){if(r&&"spline"!==r){var o=Tu(i,r,n,e.smoothConstraint);t.moveTo(i[0][0],i[0][1]);for(var a=i.length,s=0;s<(n?a:a-1);s++){var l=o[2*s],h=o[2*s+1],u=i[(s+1)%a];t.bezierCurveTo(l[0],l[1],h[0],h[1],u[0],u[1])}}else{"spline"===r&&(i=Mu(i,n)),t.moveTo(i[0][0],i[0][1]);for(var s=1,c=i.length;s<c;s++)t.lineTo(i[s][0],i[s][1])}n&&t.closePath()}}function _i(t,e,n){var i=t.cpx2,r=t.cpy2;return null===i||null===r?[(n?En:Bn)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?En:Bn)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?Gn:Vn)(t.x1,t.cpx1,t.x2,e),(n?Gn:Vn)(t.y1,t.cpy1,t.y2,e)]}function xi(t){return ci.extend(t)}function wi(t,e,n,i){var r=pi(t,e),o=r.getBoundingRect();return n&&("center"===i&&(n=Si(n,o)),Mi(r,n)),r}function bi(t,e,n){var i=new Be({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if("center"===n){var r={width:t.width,height:t.height};i.setStyle(Si(e,r))}}});return i}function Si(t,e){var n,i=e.width/e.height,r=t.height*i;return n=r<=t.width?t.height:(r=t.width)/i,{x:t.x+t.width/2-r/2,y:t.y+t.height/2-n/2,width:r,height:n}}function Mi(t,e){if(t.applyTransform){var n=t.getBoundingRect().calculateTransform(e);t.applyTransform(n)}}function Ti(t){var e=t.shape,n=t.style.lineWidth;return Nu(2*e.x1)===Nu(2*e.x2)&&(e.x1=e.x2=Ci(e.x1,n,!0)),Nu(2*e.y1)===Nu(2*e.y2)&&(e.y1=e.y2=Ci(e.y1,n,!0)),t}function Ci(t,e,n){var i=Nu(2*t);return(i+Nu(e))%2==0?i/2:(i+(n?1:-1))/2}function Ii(t){return null!=t&&"none"!=t}function Ai(t){return"string"==typeof t?_t(t,-.1):t}function ki(t){if(t.__hoverStlDirty){var e=t.style.stroke,n=t.style.fill,i=t.__hoverStl;i.fill=i.fill||(Ii(n)?Ai(n):null),i.stroke=i.stroke||(Ii(e)?Ai(e):null);var r={};for(var o in i)null!=i[o]&&(r[o]=t.style[o]);t.__normalStl=r,t.__hoverStlDirty=!1}}function Li(t){if(!t.__isHover){if(ki(t),t.useHoverLayer)t.__zr&&t.__zr.addHover(t,t.__hoverStl);else{var e=t.style,n=e.insideRollbackOpt;n&&Yi(e),e.extendFrom(t.__hoverStl),n&&(Zi(e,e.insideOriginalTextPosition,n),null==e.textFill&&(e.textFill=n.autoColor)),t.dirty(!1),t.z2+=1}t.__isHover=!0}}function Pi(t){if(t.__isHover){var e=t.__normalStl;t.useHoverLayer?t.__zr&&t.__zr.removeHover(t):(e&&t.setStyle(e),t.z2-=1),t.__isHover=!1}}function Di(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&Li(t)}):Li(t)}function Oi(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&Pi(t)}):Pi(t)}function zi(t,e){t.__hoverStl=t.hoverStyle||e||{},t.__hoverStlDirty=!0,t.__isHover&&ki(t)}function Bi(t){this.__hoverSilentOnTouch&&t.zrByTouch||!this.__isEmphasis&&Di(this)}function Ei(t){this.__hoverSilentOnTouch&&t.zrByTouch||!this.__isEmphasis&&Oi(this)}function Ni(){this.__isEmphasis=!0,Di(this)}function Ri(){this.__isEmphasis=!1,Oi(this)}function Fi(t,e,n){t.__hoverSilentOnTouch=n&&n.hoverSilentOnTouch,"group"===t.type?t.traverse(function(t){"group"!==t.type&&zi(t,e)}):zi(t,e),t.on("mouseover",Bi).on("mouseout",Ei),t.on("emphasis",Ni).on("normal",Ri)}function Wi(t,e,n,i,r,o,a){var s=(r=r||Wu).labelFetcher,l=r.labelDataIndex,h=r.labelDimIndex,u=n.getShallow("show"),c=i.getShallow("show"),f=u||c?C(s?s.getFormattedLabel(l,"normal",null,h):null,r.defaultText):null,d=u?f:null,g=c?C(s?s.getFormattedLabel(l,"emphasis",null,h):null,f):null;null==d&&null==g||(Vi(t,n,o,r),Vi(e,i,a,r,!0)),t.text=d,e.text=g}function Vi(t,e,n,i,r){return Gi(t,e,i,r),n&&o(t,n),t.host&&t.host.dirty&&t.host.dirty(!1),t}function Gi(t,e,n,i){if((n=n||Wu).isRectText){var r=e.getShallow("position")||(i?null:"inside");"outside"===r&&(r="top"),t.textPosition=r,t.textOffset=e.getShallow("offset");var o=e.getShallow("rotate");null!=o&&(o*=Math.PI/180),t.textRotation=o,t.textDistance=C(e.getShallow("distance"),i?null:5)}var a,s=e.ecModel,l=s&&s.option.textStyle,h=Hi(e);if(h){a={};for(var u in h)if(h.hasOwnProperty(u)){var c=e.getModel(["rich",u]);qi(a[u]={},c,l,n,i)}}return t.rich=a,qi(t,e,l,n,i,!0),n.forceRich&&!n.textStyle&&(n.textStyle={}),t}function Hi(t){for(var e;t&&t!==t.ecModel;){var n=(t.option||Wu).rich;if(n){e=e||{};for(var i in n)n.hasOwnProperty(i)&&(e[i]=1)}t=t.parentModel}return e}function qi(t,e,n,i,r,o){if(n=!r&&n||Wu,t.textFill=Xi(e.getShallow("color"),i)||n.color,t.textStroke=Xi(e.getShallow("textBorderColor"),i)||n.textBorderColor,t.textStrokeWidth=C(e.getShallow("textBorderWidth"),n.textBorderWidth),!r){if(o){var a=t.textPosition;t.insideRollback=Zi(t,a,i),t.insideOriginalTextPosition=a,t.insideRollbackOpt=i}null==t.textFill&&(t.textFill=i.autoColor)}t.fontStyle=e.getShallow("fontStyle")||n.fontStyle,t.fontWeight=e.getShallow("fontWeight")||n.fontWeight,t.fontSize=e.getShallow("fontSize")||n.fontSize,t.fontFamily=e.getShallow("fontFamily")||n.fontFamily,t.textAlign=e.getShallow("align"),t.textVerticalAlign=e.getShallow("verticalAlign")||e.getShallow("baseline"),t.textLineHeight=e.getShallow("lineHeight"),t.textWidth=e.getShallow("width"),t.textHeight=e.getShallow("height"),t.textTag=e.getShallow("tag"),o&&i.disableBox||(t.textBackgroundColor=Xi(e.getShallow("backgroundColor"),i),t.textPadding=e.getShallow("padding"),t.textBorderColor=Xi(e.getShallow("borderColor"),i),t.textBorderWidth=e.getShallow("borderWidth"),t.textBorderRadius=e.getShallow("borderRadius"),t.textBoxShadowColor=e.getShallow("shadowColor"),t.textBoxShadowBlur=e.getShallow("shadowBlur"),t.textBoxShadowOffsetX=e.getShallow("shadowOffsetX"),t.textBoxShadowOffsetY=e.getShallow("shadowOffsetY")),t.textShadowColor=e.getShallow("textShadowColor")||n.textShadowColor,t.textShadowBlur=e.getShallow("textShadowBlur")||n.textShadowBlur,t.textShadowOffsetX=e.getShallow("textShadowOffsetX")||n.textShadowOffsetX,t.textShadowOffsetY=e.getShallow("textShadowOffsetY")||n.textShadowOffsetY}function Xi(t,e){return"auto"!==t?t:e&&e.autoColor?e.autoColor:null}function Zi(t,e,n){var i,r=n.useInsideStyle;return null==t.textFill&&!1!==r&&(!0===r||n.isRectText&&e&&"string"==typeof e&&e.indexOf("inside")>=0)&&(i={textFill:null,textStroke:t.textStroke,textStrokeWidth:t.textStrokeWidth},t.textFill="#fff",null==t.textStroke&&(t.textStroke=n.autoColor,null==t.textStrokeWidth&&(t.textStrokeWidth=2))),i}function Yi(t){var e=t.insideRollback;e&&(t.textFill=e.textFill,t.textStroke=e.textStroke,t.textStrokeWidth=e.textStrokeWidth)}function Ui(t,e){var n=e||e.getModel("textStyle");return[t.fontStyle||n&&n.getShallow("fontStyle")||"",t.fontWeight||n&&n.getShallow("fontWeight")||"",(t.fontSize||n&&n.getShallow("fontSize")||12)+"px",t.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" ")}function ji(t,e,n,i,r,o){if("function"==typeof r&&(o=r,r=null),i&&i.isAnimationEnabled()){var a=t?"Update":"",s=i.getShallow("animationDuration"+a),l=i.getShallow("animationEasing"+a),h=i.getShallow("animationDelay"+a);"function"==typeof h&&(h=h(r,i.getAnimationDelayParams?i.getAnimationDelayParams(e,r):null)),"function"==typeof s&&(s=s(r)),s>0?e.animateTo(n,s,h||0,l,o,!!o):(e.stopAnimation(),e.attr(n),o&&o())}else e.stopAnimation(),e.attr(n),o&&o()}function $i(t,e,n,i,r){ji(!0,t,e,n,i,r)}function Qi(t,e,n,i,r){ji(!1,t,e,n,i,r)}function Ki(t,e,n){return e&&!c(e)&&(e=Ys.getLocalTransform(e)),n&&(e=at([],e)),X([],t,e)}function Ji(t,e,n,i){function r(t){var e={position:N(t.position),rotation:t.rotation};return t.shape&&(e.shape=o({},t.shape)),e}if(t&&e){var a=function(t){var e={};return t.traverse(function(t){!t.isGroup&&t.anid&&(e[t.anid]=t)}),e}(t);e.traverse(function(t){if(!t.isGroup&&t.anid){var e=a[t.anid];if(e){var i=r(t);t.attr(r(e)),$i(t,i,n,t.dataIndex)}}})}}function tr(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}function er(t,e,n){for(var i=0;i<e.length&&(!e[i]||null!=(t=t&&"object"==typeof t?t[e[i]]:null));i++);return null==t&&n&&(t=n.get(e)),t}function nr(t,e){var n=Tn(t,"getParent");return n?n.call(t,e):t.parentModel}function ir(t){return t instanceof Array?t:null==t?[]:[t]}function rr(t,e){if(t)for(var n=t.emphasis=t.emphasis||{},i=t.normal=t.normal||{},r=0,o=e.length;r<o;r++){var a=e[r];!n.hasOwnProperty(a)&&i.hasOwnProperty(a)&&(n[a]=i[a])}}function or(t){return t&&(null==t.value?t:t.value)}function ar(t){return Uu(t)&&!(t instanceof Array)}function sr(t,e){var n=e&&e.type;return"ordinal"===n?t:("time"===n&&"number"!=typeof t&&null!=t&&"-"!==t&&(t=+pn(t)),null==t||""===t?NaN:+t)}function lr(t,e){e=(e||[]).slice();var n=d(t||[],function(t,e){return{exist:t}});return Yu(e,function(t,i){if(Uu(t)){for(r=0;r<n.length;r++)if(!n[r].option&&null!=t.id&&n[r].exist.id===t.id+"")return n[r].option=t,void(e[i]=null);for(var r=0;r<n.length;r++){var o=n[r].exist;if(!(n[r].option||null!=o.id&&null!=t.id||null==t.name||ur(t)||ur(o)||o.name!==t.name+""))return n[r].option=t,void(e[i]=null)}}}),Yu(e,function(t,e){if(Uu(t)){for(var i=0;i<n.length;i++){var r=n[i].exist;if(!n[i].option&&!ur(r)&&null==t.id){n[i].option=t;break}}i>=n.length&&n.push({option:t})}}),n}function hr(t){var e=z();Yu(t,function(t,n){var i=t.exist;i&&e.set(i.id,t)}),Yu(t,function(t,n){var i=t.option;L(!i||null==i.id||!e.get(i.id)||e.get(i.id)===t,"id duplicates: "+(i&&i.id)),i&&null!=i.id&&e.set(i.id,t),!t.keyInfo&&(t.keyInfo={})}),Yu(t,function(t,n){var i=t.exist,r=t.option,o=t.keyInfo;if(Uu(r)){if(o.name=null!=r.name?r.name+"":i?i.name:"\0-",i)o.id=i.id;else if(null!=r.id)o.id=r.id+"";else{var a=0;do{o.id="\0"+o.name+"\0"+a++}while(e.get(o.id))}e.set(o.id,t)}})}function ur(t){return Uu(t)&&t.id&&0===(t.id+"").indexOf("\0_ec_\0")}function cr(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?y(e.dataIndex)?d(e.dataIndex,function(e){return t.indexOfRawIndex(e)}):t.indexOfRawIndex(e.dataIndex):null!=e.name?y(e.name)?d(e.name,function(e){return t.indexOfName(e)}):t.indexOfName(e.name):void 0}function fr(t,e,n){if(x(e)){var i={};i[e+"Index"]=0,e=i}var r=n&&n.defaultMainType;!r||vr(e,r+"Index")||vr(e,r+"Id")||vr(e,r+"Name")||(e[r+"Index"]=0);var o={};return Yu(e,function(i,r){var i=e[r];if("dataIndex"!==r&&"dataIndexInside"!==r){var a=r.match(/^(\w+)(Index|Id|Name)$/)||[],s=a[1],h=(a[2]||"").toLowerCase();if(!(!s||!h||null==i||"index"===h&&"none"===i||n&&n.includeMainTypes&&l(n.includeMainTypes,s)<0)){var u={mainType:s};"index"===h&&"all"===i||(u[h]=i);var c=t.queryComponents(u);o[s+"Models"]=c,o[s+"Model"]=c[0]}}else o[r]=i}),o}function dr(t,e){var n=t.dimensions;e=t.getDimension(e);for(var i=0;i<n.length;i++){var r=t.getDimensionInfo(n[i]);if(r.name===e)return r.coordDim}}function gr(t,e){var n=[];return Yu(t.dimensions,function(i){var r=t.getDimensionInfo(i);r.coordDim===e&&(n[r.coordDimIndex]=r.name)}),n}function pr(t,e){var n=[];return Yu(t.dimensions,function(i){var r=t.getDimensionInfo(i),o=r.otherDims[e];null!=o&&!1!==o&&(n[o]=r.name)}),n}function vr(t,e){return t&&t.hasOwnProperty(e)}function mr(t){return[t||"",Qu++,Math.random()].join(Ku)}function yr(t,e,n,i,r){var o=0,a=0;null==i&&(i=1/0),null==r&&(r=1/0);var s=0;e.eachChild(function(l,h){var u,c,f=l.position,d=l.getBoundingRect(),g=e.childAt(h+1),p=g&&g.getBoundingRect();if("horizontal"===t){var v=d.width+(p?-p.x+d.x:0);(u=o+v)>i||l.newline?(o=0,u=v,a+=s+n,s=d.height):s=Math.max(s,d.height)}else{var m=d.height+(p?-p.y+d.y:0);(c=a+m)>r||l.newline?(o+=s+n,a=0,c=m,s=d.width):s=Math.max(s,d.width)}l.newline||(f[0]=o,f[1]=a,"horizontal"===t?o=u+n:a=c+n)})}function _r(t,e,n){n=rh(n||0);var i=e.width,r=e.height,o=ln(t.left,i),a=ln(t.top,r),s=ln(t.right,i),l=ln(t.bottom,r),h=ln(t.width,i),u=ln(t.height,r),c=n[2]+n[0],f=n[1]+n[3],d=t.aspect;switch(isNaN(h)&&(h=i-s-f-o),isNaN(u)&&(u=r-l-c-a),null!=d&&(isNaN(h)&&isNaN(u)&&(d>i/r?h=.8*i:u=.8*r),isNaN(h)&&(h=d*u),isNaN(u)&&(u=h/d)),isNaN(o)&&(o=i-s-h-f),isNaN(a)&&(a=r-l-u-c),t.left||t.right){case"center":o=i/2-h/2-n[3];break;case"right":o=i-h-f}switch(t.top||t.bottom){case"middle":case"center":a=r/2-u/2-n[0];break;case"bottom":a=r-u-c}o=o||0,a=a||0,isNaN(h)&&(h=i-f-o-(s||0)),isNaN(u)&&(u=r-c-a-(l||0));var g=new zt(o+n[3],a+n[0],h,u);return g.margin=n,g}function xr(t,e,n){function i(n,i){var a={},l=0,h={},u=0;if(Ju(n,function(e){h[e]=t[e]}),Ju(n,function(t){r(e,t)&&(a[t]=h[t]=e[t]),o(a,t)&&l++,o(h,t)&&u++}),s[i])return o(e,n[1])?h[n[2]]=null:o(e,n[2])&&(h[n[1]]=null),h;if(2!==u&&l){if(l>=2)return a;for(var c=0;c<n.length;c++){var f=n[c];if(!r(a,f)&&r(t,f)){a[f]=t[f];break}}return a}return h}function r(t,e){return t.hasOwnProperty(e)}function o(t,e){return null!=t[e]&&"auto"!==t[e]}function a(t,e,n){Ju(t,function(t){e[t]=n[t]})}!w(n)&&(n={});var s=n.ignoreSize;!y(s)&&(s=[s,s]);var l=i(ec[0],0),h=i(ec[1],1);a(ec[0],t,l),a(ec[1],t,h)}function wr(t){return br({},t)}function br(t,e){return e&&t&&Ju(tc,function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}function Sr(t,e){f(e,function(e,r){rc.hasClass(r)||("object"==typeof e?t[r]=t[r]?i(t[r],e,!1):n(e):null==t[r]&&(t[r]=e))})}function Mr(t){t=t,this.option={},this.option[gc]=1,this._componentsMap=z({series:[]}),this._seriesIndices=null,Sr(t,this._theme.option),i(t,ac,!1),this.mergeOption(t)}function Tr(t,e){y(e)||(e=e?[e]:[]);var n={};return lc(e,function(e){n[e]=(t.get(e)||[]).slice()}),n}function Cr(t,e,n){return e.type?e.type:n?n.subType:rc.determineSubType(t,e)}function Ir(t){return uc(t,function(t){return t.componentIndex})||[]}function Ar(t,e){return e.hasOwnProperty("subType")?hc(t,function(t){return t.subType===e.subType}):t}function kr(t){f(vc,function(e){this[e]=v(t[e],t)},this)}function Lr(){this._coordinateSystems=[]}function Pr(t){this._api=t,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function Dr(t,e,n){var i,r,o=[],a=[],s=t.timeline;if(t.baseOption&&(r=t.baseOption),(s||t.options)&&(r=r||{},o=(t.options||[]).slice()),t.media){r=r||{};var l=t.media;yc(l,function(t){t&&t.option&&(t.query?a.push(t):i||(i=t))})}return r||(r=t),r.timeline||(r.timeline=s),yc([r].concat(o).concat(d(a,function(t){return t.option})),function(t){yc(e,function(e){e(t,n)})}),{baseOption:r,timelineOptions:o,mediaDefault:i,mediaList:a}}function Or(t,e,n){var i={width:e,height:n,aspectratio:e/n},r=!0;return f(t,function(t,e){var n=e.match(bc);if(n&&n[1]&&n[2]){var o=n[1],a=n[2].toLowerCase();zr(i[a],t,o)||(r=!1)}}),r}function zr(t,e,n){return"min"===n?t>=e:"max"===n?t<=e:t===e}function Br(t,e){return t.join(",")===e.join(",")}function Er(t,e){yc(e=e||{},function(e,n){if(null!=e){var i=t[n];if(rc.hasClass(n)){e=ir(e);var r=lr(i=ir(i),e);t[n]=xc(r,function(t){return t.option&&t.exist?wc(t.exist,t.option,!0):t.exist||t.option})}else t[n]=wc(i,e,!0)}})}function Nr(t){var e=t&&t.itemStyle;if(e)for(var n=0,r=Tc.length;n<r;n++){var o=Tc[n],a=e.normal,s=e.emphasis;a&&a[o]&&(t[o]=t[o]||{},t[o].normal?i(t[o].normal,a[o]):t[o].normal=a[o],a[o]=null),s&&s[o]&&(t[o]=t[o]||{},t[o].emphasis?i(t[o].emphasis,s[o]):t[o].emphasis=s[o],s[o]=null)}}function Rr(t,e){var n=Mc(t)&&t[e],i=Mc(n)&&n.textStyle;if(i)for(var r=0,o=ju.length;r<o;r++){var e=ju[r];i.hasOwnProperty(e)&&(n[e]=i[e])}}function Fr(t){Mc(t)&&(Rr(t,"normal"),Rr(t,"emphasis"))}function Wr(t){if(Mc(t)){Nr(t),Fr(t.label),Fr(t.upperLabel),Fr(t.edgeLabel);var e=t.markPoint;Nr(e),Fr(e&&e.label);var n=t.markLine;Nr(t.markLine),Fr(n&&n.label);var i=t.markArea;Fr(i&&i.label),Rr(t,"axisLabel"),Rr(t,"title"),Rr(t,"detail");var r=t.data;if(r)for(a=0;a<r.length;a++)Nr(r[a]),Fr(r[a]&&r[a].label);if((e=t.markPoint)&&e.data)for(var o=e.data,a=0;a<o.length;a++)Nr(o[a]),Fr(o[a]&&o[a].label);if((n=t.markLine)&&n.data)for(var s=n.data,a=0;a<s.length;a++)y(s[a])?(Nr(s[a][0]),Fr(s[a][0]&&s[a][0].label),Nr(s[a][1]),Fr(s[a][1]&&s[a][1].label)):(Nr(s[a]),Fr(s[a]&&s[a].label))}}function Vr(t){return y(t)?t:t?[t]:[]}function Gr(t){return(y(t)?t[0]:t)||{}}function Hr(t,e){e=e.split(",");for(var n=t,i=0;i<e.length&&null!=(n=n&&n[e[i]]);i++);return n}function qr(t,e,n,i){e=e.split(",");for(var r,o=t,a=0;a<e.length-1;a++)null==o[r=e[a]]&&(o[r]={}),o=o[r];(i||null==o[e[a]])&&(o[e[a]]=n)}function Xr(t){f(Ic,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}function Zr(){this.group=new vl,this.uid=mr("viewChart")}function Yr(t,e){if(t&&(t.trigger(e),"group"===t.type))for(var n=0;n<t.childCount();n++)Yr(t.childAt(n),e)}function Ur(t,e,n){var i=cr(t,e);null!=i?f(ir(i),function(e){Yr(t.getItemGraphicEl(e),n)}):t.eachItemGraphicEl(function(t){Yr(t,n)})}function jr(t,e,n){function i(){u=(new Date).getTime(),c=null,t.apply(a,s||[])}var r,o,a,s,l,h=0,u=0,c=null;e=e||0;var f=function(){r=(new Date).getTime(),a=this,s=arguments;var t=l||e,f=l||n;l=null,o=r-(f?h:u)-t,clearTimeout(c),f?c=setTimeout(i,t):o>=0?i():c=setTimeout(i,-o),h=r};return f.clear=function(){c&&(clearTimeout(c),c=null)},f.debounceNextCall=function(t){l=t},f}function $r(t){return function(e,n,i){e=e&&e.toLowerCase(),Ws.prototype[t].call(this,e,n,i)}}function Qr(){Ws.call(this)}function Kr(t,e,i){function r(t,e){return t.prio-e.prio}i=i||{},"string"==typeof e&&(e=ef[e]),this.id,this.group,this._dom=t;var o=this._zr=on(t,{renderer:i.renderer||"canvas",devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height});this._throttledZrFlush=jr(v(o.flush,o),17),(e=n(e))&&Lc(e,!0),this._theme=e,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new Lr,this._api=po(this),Ws.call(this),this._messageCenter=new Qr,this._initEvents(),this.resize=v(this.resize,this),this._pendingActions=[],Gt(tf,r),Gt(Qc,r),o.animation.on("frame",this._onframe,this),P(this)}function Jr(t,e,n){var i,r=this._model,o=this._coordSysMgr.getCoordinateSystems();e=fr(r,e);for(var a=0;a<o.length;a++){var s=o[a];if(s[t]&&null!=(i=s[t](r,e,n)))return i}}function to(t,e,n,i,r){function o(i){i&&i.__alive&&i[e]&&i[e](i.__model,a,t._api,n)}var a=t._model;if(i){var s={};s[i+"Id"]=n[i+"Id"],s[i+"Index"]=n[i+"Index"],s[i+"Name"]=n[i+"Name"];var l={mainType:i,query:s};r&&(l.subType=r),a&&a.eachComponent(l,function(e,n){o(t["series"===i?"_chartsMap":"_componentsMap"][e.__viewId])},t)}else Ec(t._componentsViews.concat(t._chartsViews),o)}function eo(t,e){var n=t.type,i=t.escapeConnect,r=jc[n],s=r.actionInfo,l=(s.update||"update").split(":"),h=l.pop();l=null!=l[0]&&Nc(l[0]),this[Hc]=!0;var u=[t],c=!1;t.batch&&(c=!0,u=d(t.batch,function(e){return e=a(o({},e),t),e.batch=null,e}));var f,g=[],p="highlight"===n||"downplay"===n;Ec(u,function(t){f=r.action(t,this._model,this._api),(f=f||o({},t)).type=s.event||f.type,g.push(f),p?to(this,h,t,"series"):l&&to(this,h,t,l.main,l.sub)},this),"none"===h||p||l||(this[qc]?(Yc.prepareAndUpdate.call(this,t),this[qc]=!1):Yc[h].call(this,t)),f=c?{type:s.event||n,escapeConnect:i,batch:g}:g[0],this[Hc]=!1,!e&&this._messageCenter.trigger(f.type,f)}function no(t){for(var e=this._pendingActions;e.length;){var n=e.shift();eo.call(this,n,t)}}function io(t){!t&&this.trigger("updated")}function ro(t,e,n){var i=this._api;Ec(this._componentsViews,function(r){var o=r.__model;r[t](o,e,i,n),go(o,r)},this),e.eachSeries(function(r,o){var a=this._chartsMap[r.__viewId];a[t](r,e,i,n),go(r,a),fo(r,a)},this),co(this._zr,e),Ec(Jc,function(t){t(e,i)})}function oo(t,e){for(var n="component"===t,i=n?this._componentsViews:this._chartsViews,r=n?this._componentsMap:this._chartsMap,o=this._zr,a=0;a<i.length;a++)i[a].__alive=!1;e[n?"eachComponent":"eachSeries"](function(t,a){if(n){if("series"===t)return}else a=t;var s="_ec_"+a.id+"_"+a.type,l=r[s];if(!l){var h=Nc(a.type),u=n?Dc.getClass(h.main,h.sub):Zr.getClass(h.sub);if(!u)return;(l=new u).init(e,this._api),r[s]=l,i.push(l),o.add(l.group)}a.__viewId=l.__id=s,l.__alive=!0,l.__model=a,l.group.__ecComponentInfo={mainType:a.mainType,index:a.componentIndex}},this);for(a=0;a<i.length;){var s=i[a];s.__alive?a++:(o.remove(s.group),s.dispose(e,this._api),i.splice(a,1),delete r[s.__id],s.__id=s.group.__ecComponentInfo=null)}}function ao(t,e){Ec(Qc,function(n){n.func(t,e)})}function so(t){var e={};t.eachSeries(function(t){var n=t.get("stack"),i=t.getData();if(n&&"list"===i.type){var r=e[n];e.hasOwnProperty(n)&&r&&(i.stackedOn=r),e[n]=i}})}function lo(t,e){var n=this._api;Ec(tf,function(i){i.isLayout&&i.func(t,n,e)})}function ho(t,e,n){var i=this._api;t.clearColorPalette(),t.eachSeries(function(t){t.clearColorPalette()}),Ec(tf,function(r){(!n||!r.isLayout)&&r.func(t,i,e)})}function uo(t,e){var n=this._api;Ec(this._componentsViews,function(i){var r=i.__model;i.render(r,t,n,e),go(r,i)},this),Ec(this._chartsViews,function(t){t.__alive=!1},this),t.eachSeries(function(i,r){var o=this._chartsMap[i.__viewId];o.__alive=!0,o.render(i,t,n,e),o.group.silent=!!i.get("silent"),go(i,o),fo(i,o)},this),co(this._zr,t),Ec(this._chartsViews,function(e){e.__alive||e.remove(t,n)},this)}function co(t,e){var n=t.storage,i=0;n.traverse(function(t){t.isGroup||i++}),i>e.get("hoverLayerThreshold")&&!bs.node&&n.traverse(function(t){t.isGroup||(t.useHoverLayer=!0)})}function fo(t,e){var n=0;e.group.traverse(function(t){"group"===t.type||t.ignore||n++});var i=+t.get("progressive"),r=n>t.get("progressiveThreshold")&&i&&!bs.node;r&&e.group.traverse(function(t){t.isGroup||(t.progressive=r?Math.floor(n++/i):-1,r&&t.stopAnimation(!0))});var o=t.get("blendMode")||null;e.group.traverse(function(t){t.isGroup||t.setStyle("blend",o)})}function go(t,e){var n=t.get("z"),i=t.get("zlevel");e.group.traverse(function(t){"group"!==t.type&&(null!=n&&(t.z=n),null!=i&&(t.zlevel=i))})}function po(t){var e=t._coordSysMgr;return o(new kr(t),{getCoordinateSystems:v(e.getCoordinateSystems,e),getComponentByElement:function(e){for(;e;){var n=e.__ecComponentInfo;if(null!=n)return t._model.getComponent(n.mainType,n.index);e=e.parent}}})}function vo(t){function e(t,e){for(var i=0;i<t.length;i++)t[i][n]=e}var n="__connectUpdateStatus";f($c,function(i,r){t._messageCenter.on(r,function(i){if(of[t.group]&&0!==t[n]){if(i&&i.escapeConnect)return;var r=t.makeActionFromEvent(i),o=[];f(rf,function(e){e!==t&&e.group===t.group&&o.push(e)}),e(o,0),Ec(o,function(t){1!==t[n]&&t.dispatchAction(r)}),e(o,2)}})})}function mo(t){of[t]=!1}function yo(t){var e;return e=t.getAttribute?t.getAttribute(lf):t[lf],rf[e]}function _o(t){Kc.push(t)}function xo(t,e){"function"==typeof t&&(e=t,t=Fc),Qc.push({prio:t,func:e})}function wo(t,e,n){"function"==typeof e&&(n=e,e="");var i=w(t)?t.type:[t,t={event:e}][0];t.event=(t.event||i).toLowerCase(),e=t.event,L(Xc.test(i)&&Xc.test(e)),jc[i]||(jc[i]={action:n,actionInfo:t}),$c[e]=i}function bo(t,e){"function"==typeof t&&(e=t,t=Wc),tf.push({prio:t,func:e,isLayout:!0})}function So(t,e){"function"==typeof t&&(e=t,t=Vc),tf.push({prio:t,func:e})}function Mo(t,e){nf[t]=e}function To(t){return Dc.extend(t)}function Co(t){return Pc.extend(t)}function Io(t){return Zr.extend(t)}function Ao(t){return t}function ko(t,e,n,i,r){this._old=t,this._new=e,this._oldKeyGetter=n||Ao,this._newKeyGetter=i||Ao,this.context=r}function Lo(t,e,n,i,r){for(var o=0;o<t.length;o++){var a="_ec_"+r[i](t[o],o),s=e[a];null==s?(n.push(a),e[a]=o):(s.length||(e[a]=s=[s]),s.push(o))}}function Po(t,e){f(pf.concat(e.__wrappedMethods||[]),function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t.__wrappedMethods=e.__wrappedMethods}function Do(t){this._array=t||[]}function Oo(t){return y(t)||(t=[t]),t}function zo(t,e){var n=t.dimensions,i=new vf(d(n,t.getDimensionInfo,t),t.hostModel);Po(i,t);for(var r=i._storage={},o=t._storage,a=0;a<n.length;a++){var s=n[a],h=o[s];l(e,s)>=0?r[s]=new h.constructor(o[s].length):r[s]=o[s]}return i}function Bo(t,e,i){function r(t,e,n){bf[e]?t.otherDims[e]=n:(t.coordDim=e,t.coordDimIndex=n,h.set(e,!0))}function o(t,e,n){if(n||null!=e.get(t)){for(var i=0;null!=e.get(t+i);)i++;t+=i}return e.set(t,!0),t}e=e||[],i=i||{},t=(t||[]).slice();var a=(i.dimsDef||[]).slice(),s=z(i.encodeDef),l=z(),h=z(),u=[],c=i.dimCount;if(null==c){var f=Eo(e[0]);c=Math.max(y(f)&&f.length||1,t.length,a.length),_f(t,function(t){var e=t.dimsDef;e&&(c=Math.max(c,e.length))})}for(var d=0;d<c;d++){var g=xf(a[d])?{name:a[d]}:a[d]||{},p=g.name,v=u[d]={otherDims:{}};null!=p&&null==l.get(p)&&(v.name=v.tooltipName=p,l.set(p,d)),null!=g.type&&(v.type=g.type)}s.each(function(t,e){t=s.set(e,ir(t).slice()),_f(t,function(n,i){xf(n)&&(n=l.get(n)),null!=n&&n<c&&(t[i]=n,r(u[n],e,i))})});var m=0;_f(t,function(t,e){var i,t,o,a;xf(t)?(i=t,t={}):(i=t.name,t=n(t),o=t.dimsDef,a=t.otherDims,t.name=t.coordDim=t.coordDimIndex=t.dimsDef=t.otherDims=null);var l=ir(s.get(i));if(!l.length)for(var h=0;h<(o&&o.length||1);h++){for(;m<u.length&&null!=u[m].coordDim;)m++;m<u.length&&l.push(m++)}_f(l,function(e,n){var s=u[e];r(wf(s,t),i,n),null==s.name&&o&&(s.name=s.tooltipName=o[n]),a&&wf(s.otherDims,a)})});for(var _=i.extraPrefix||"value",x=0;x<c;x++)null==(v=u[x]=u[x]||{}).coordDim&&(v.coordDim=o(_,h,i.extraFromZero),v.coordDimIndex=0,v.isExtraCoord=!0),null==v.name&&(v.name=o(v.coordDim,l)),null==v.type&&Sf(e,x)&&(v.type="ordinal");return u}function Eo(t){return y(t)?t:w(t)?t.value:t}function No(t){for(var e=0;e<t.length&&null==t[e];)e++;return t[e]}function Ro(t){var e=No(t);return null!=e&&!y(or(e))}function Fo(t,e,n){t=t||[];var i=e.get("coordinateSystem"),r=Mf[i],o=Lr.get(i),a={encodeDef:e.get("encode"),dimsDef:e.get("dimensions")},s=r&&r(t,e,n,a),h=s&&s.dimensions;h||(h=o&&(o.getDimensionsInfo?o.getDimensionsInfo():o.dimensions.slice())||["x","y"],h=Bo(h,t,a));var u=s?s.categoryIndex:-1,c=new vf(h,e),f=Go(s,t),d={},g=u>=0&&Ro(t)?function(t,e,n,i){return ar(t)&&(c.hasItemOption=!0),i===u?n:sr(or(t),h[i])}:function(t,e,n,i){var r=or(t),o=sr(r&&r[i],h[i]);ar(t)&&(c.hasItemOption=!0);var a=s&&s.categoryAxesModels;return a&&a[e]&&"string"==typeof o&&(d[e]=d[e]||a[e].getCategories(),(o=l(d[e],o))<0&&!isNaN(o)&&(o=+o)),o};return c.hasItemOption=!1,c.initData(t,f,g),c}function Wo(t){return"category"!==t&&"time"!==t}function Vo(t){return"category"===t?"ordinal":"time"===t?"time":"float"}function Go(t,e){var n,i=[],r=t&&t.dimensions[t.categoryIndex];if(r&&(n=t.categoryAxesModels[r.name]),n){var o=n.getCategories();if(o){var a=e.length;if(y(e[0])&&e[0].length>1){i=[];for(var s=0;s<a;s++)i[s]=o[e[s][t.categoryIndex||0]]}else i=o.slice(0)}}return i}function Ho(t,e){if("image"!==this.type){var n=this.style,i=this.shape;i&&"line"===i.symbolType?n.stroke=t:this.__isEmptyBrush?(n.stroke=t,n.fill=e||"#fff"):(n.fill&&(n.fill=t),n.stroke&&(n.stroke=t)),this.dirty(!1)}}function qo(t,e,n,i,r,o,a){var s=0===t.indexOf("empty");s&&(t=t.substr(5,1).toLowerCase()+t.substr(6));var l;return l=0===t.indexOf("image://")?bi(t.slice(8),new zt(e,n,i,r),a?"center":"cover"):0===t.indexOf("path://")?wi(t.slice(7),{},new zt(e,n,i,r),a?"center":"cover"):new Pf({shape:{symbolType:t,x:e,y:n,width:i,height:r}}),l.__isEmptyBrush=s,l.setColor=Ho,l.setColor(o),l}function Xo(t){var e,n=pr(t,"label");if(n.length)e=n[0];else for(var i,r=t.dimensions.slice();r.length&&(e=r.pop(),"ordinal"===(i=t.getDimensionInfo(e).type)||"time"===i););return e}function Zo(t,e){var n=t.getItemVisual(e,"symbolSize");return n instanceof Array?n.slice():[+n,+n]}function Yo(t){return[t[0]/2,t[1]/2]}function Uo(t,e,n){vl.call(this),this.updateData(t,e,n)}function jo(t,e){this.parent.drift(t,e)}function $o(t){this.group=new vl,this._symbolCtor=t||Uo}function Qo(t,e,n){var i=t.getItemLayout(e);return i&&!isNaN(i[0])&&!isNaN(i[1])&&!(n&&n(e))&&"none"!==t.getItemVisual(e,"symbol")}function Ko(t){return t>=0?1:-1}function Jo(t,e,n){for(var i,r=t.getBaseAxis(),o=t.getOtherAxis(r),a=r.onZero?0:o.scale.getExtent()[0],s=o.dim,l="x"===s||"radius"===s?1:0,h=e.stackedOn,u=e.get(s,n);h&&Ko(h.get(s,n))===Ko(u);){i=h;break}var c=[];return c[l]=e.get(r.dim,n),c[1-l]=i?i.get(s,n,!0):a,t.dataToPoint(c)}function ta(t,e){var n=[];return e.diff(t).add(function(t){n.push({cmd:"+",idx:t})}).update(function(t,e){n.push({cmd:"=",idx:e,idx1:t})}).remove(function(t){n.push({cmd:"-",idx:t})}).execute(),n}function ea(t){return isNaN(t[0])||isNaN(t[1])}function na(t,e,n,i,r,o,a,s,l,h,u){for(var c=0,f=n,d=0;d<i;d++){var g=e[f];if(f>=r||f<0)break;if(ea(g)){if(u){f+=o;continue}break}if(f===n)t[o>0?"moveTo":"lineTo"](g[0],g[1]),Gf(qf,g);else if(l>0){var p=f+o,v=e[p];if(u)for(;v&&ea(e[p]);)v=e[p+=o];var m=.5,y=e[c];if(!(v=e[p])||ea(v))Gf(Xf,g);else{ea(v)&&!u&&(v=g),F(Hf,v,y);var _,x;if("x"===h||"y"===h){var w="x"===h?0:1;_=Math.abs(g[w]-y[w]),x=Math.abs(g[w]-v[w])}else _=Ns(g,y),x=Ns(g,v);Vf(Xf,g,Hf,-l*(1-(m=x/(x+_))))}Ff(qf,qf,s),Wf(qf,qf,a),Ff(Xf,Xf,s),Wf(Xf,Xf,a),t.bezierCurveTo(qf[0],qf[1],Xf[0],Xf[1],g[0],g[1]),Vf(qf,g,Hf,l*m)}else t.lineTo(g[0],g[1]);c=f,f+=o}return d}function ia(t,e){var n=[1/0,1/0],i=[-1/0,-1/0];if(e)for(var r=0;r<t.length;r++){var o=t[r];o[0]<n[0]&&(n[0]=o[0]),o[1]<n[1]&&(n[1]=o[1]),o[0]>i[0]&&(i[0]=o[0]),o[1]>i[1]&&(i[1]=o[1])}return{min:e?n:i,max:e?i:n}}function ra(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++){var i=t[n],r=e[n];if(i[0]!==r[0]||i[1]!==r[1])return}return!0}}function oa(t){return"number"==typeof t?t:t?.3:0}function aa(t){var e=t.getGlobalExtent();if(t.onBand){var n=t.getBandWidth()/2-1,i=e[1]>e[0]?1:-1;e[0]+=i*n,e[1]-=i*n}return e}function sa(t){return t>=0?1:-1}function la(t,e){var n=t.getBaseAxis(),i=t.getOtherAxis(n),r=0;if(!n.onZero){var o=i.scale.getExtent();o[0]>0?r=o[0]:o[1]<0&&(r=o[1])}var a=i.dim,s="x"===a||"radius"===a?1:0;return e.mapArray([a],function(i,o){for(var l,h=e.stackedOn;h&&sa(h.get(a,o))===sa(i);){l=h;break}var u=[];return u[s]=e.get(n.dim,o),u[1-s]=l?l.get(a,o,!0):r,t.dataToPoint(u)},!0)}function ha(t,e,n){var i=aa(t.getAxis("x")),r=aa(t.getAxis("y")),o=t.getBaseAxis().isHorizontal(),a=Math.min(i[0],i[1]),s=Math.min(r[0],r[1]),l=Math.max(i[0],i[1])-a,h=Math.max(r[0],r[1])-s,u=n.get("lineStyle.normal.width")||2,c=n.get("clipOverflow")?u/2:Math.max(l,h);o?(s-=c,h+=2*c):(a-=c,l+=2*c);var f=new Au({shape:{x:a,y:s,width:l,height:h}});return e&&(f.shape[o?"width":"height"]=0,Qi(f,{shape:{width:l,height:h}},n)),f}function ua(t,e,n){var i=t.getAngleAxis(),r=t.getRadiusAxis().getExtent(),o=i.getExtent(),a=Math.PI/180,s=new bu({shape:{cx:t.cx,cy:t.cy,r0:r[0],r:r[1],startAngle:-o[0]*a,endAngle:-o[1]*a,clockwise:i.inverse}});return e&&(s.shape.endAngle=-o[0]*a,Qi(s,{shape:{endAngle:-o[1]*a}},n)),s}function ca(t,e,n){return"polar"===t.type?ua(t,e,n):ha(t,e,n)}function fa(t,e,n){for(var i=e.getBaseAxis(),r="x"===i.dim||"radius"===i.dim?0:1,o=[],a=0;a<t.length-1;a++){var s=t[a+1],l=t[a];o.push(l);var h=[];switch(n){case"end":h[r]=s[r],h[1-r]=l[1-r],o.push(h);break;case"middle":var u=(l[r]+s[r])/2,c=[];h[r]=c[r]=u,h[1-r]=l[1-r],c[1-r]=s[1-r],o.push(h),o.push(c);break;default:h[r]=l[r],h[1-r]=s[1-r],o.push(h)}}return t[a]&&o.push(t[a]),o}function da(t,e){var n=t.getVisual("visualMeta");if(n&&n.length&&t.count()){for(var i,r=n.length-1;r>=0;r--)if(n[r].dimension<2){i=n[r];break}if(i&&"cartesian2d"===e.type){var o=i.dimension,a=t.dimensions[o],s=e.getAxis(a),l=d(i.stops,function(t){return{coord:s.toGlobalCoord(s.dataToCoord(t.value)),color:t.color}}),h=l.length,u=i.outerColors.slice();h&&l[0].coord>l[h-1].coord&&(l.reverse(),u.reverse());var c=l[0].coord-10,g=l[h-1].coord+10,p=g-c;if(p<.001)return"transparent";f(l,function(t){t.offset=(t.coord-c)/p}),l.push({offset:h?l[h-1].offset:.5,color:u[1]||"transparent"}),l.unshift({offset:h?l[0].offset:.5,color:u[0]||"transparent"});var v=new Bu(0,0,0,0,l,!0);return v[a]=c,v[a+"2"]=g,v}}}function ga(t){this._setting=t||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}function pa(t,e,n,i){var r={},o=t[1]-t[0],a=r.interval=yn(o/e,!0);null!=n&&a<n&&(a=r.interval=n),null!=i&&a>i&&(a=r.interval=i);var s=r.intervalPrecision=va(a);return ya(r.niceTickExtent=[Kf(Math.ceil(t[0]/a)*a,s),Kf(Math.floor(t[1]/a)*a,s)],t),r}function va(t){return un(t)+2}function ma(t,e,n){t[e]=Math.max(Math.min(t[e],n[1]),n[0])}function ya(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),ma(t,0,e),ma(t,1,e),t[0]>t[1]&&(t[0]=t[1])}function _a(t,e,n,i){var r=[];if(!t)return r;e[0]<n[0]&&r.push(e[0]);for(var o=n[0];o<=n[1]&&(r.push(o),(o=Kf(o+t,i))!==r[r.length-1]);)if(r.length>1e4)return[];return e[1]>(r.length?r[r.length-1]:n[1])&&r.push(e[1]),r}function xa(t,e){return ud(t,hd(e))}function wa(t,e){var n,i,r,o=t.type,a=e.getMin(),s=e.getMax(),l=null!=a,h=null!=s,u=t.getExtent();return"ordinal"===o?n=(e.get("data")||[]).length:(y(i=e.get("boundaryGap"))||(i=[i||0,i||0]),"boolean"==typeof i[0]&&(i=[0,0]),i[0]=ln(i[0],1),i[1]=ln(i[1],1),r=u[1]-u[0]||Math.abs(u[0])),null==a&&(a="ordinal"===o?n?0:NaN:u[0]-i[0]*r),null==s&&(s="ordinal"===o?n?n-1:NaN:u[1]+i[1]*r),"dataMin"===a?a=u[0]:"function"==typeof a&&(a=a({min:u[0],max:u[1]})),"dataMax"===s?s=u[1]:"function"==typeof s&&(s=s({min:u[0],max:u[1]})),(null==a||!isFinite(a))&&(a=NaN),(null==s||!isFinite(s))&&(s=NaN),t.setBlank(M(a)||M(s)),e.getNeedCrossZero()&&(a>0&&s>0&&!l&&(a=0),a<0&&s<0&&!h&&(s=0)),[a,s]}function ba(t,e){if(e=e||t.get("type"))switch(e){case"category":return new Qf(t.getCategories(),[1/0,-1/0]);case"value":return new td;default:return(ga.getClass(e)||td).create(t)}}function Sa(t,e,n,i,r){var o,a=0,s=0,l=(i-r)/180*Math.PI,h=1;e.length>40&&(h=Math.floor(e.length/40));for(var u=0;u<t.length;u+=h){var c=t[u],f=Jt(e[u],n,"center","top");f.x+=c*Math.cos(l),f.y+=c*Math.sin(l),f.width*=1.3,f.height*=1.3,o?o.intersect(f)?(s++,a=Math.max(a,s)):(o.union(f),s=0):o=f.clone()}return 0===a&&h>1?h:(a+1)*h-1}function Ma(t,e){var n=t.scale,i=n.getTicksLabels(),r=n.getTicks();return"string"==typeof e?(e=function(t){return function(e){return t.replace("{value}",null!=e?e:"")}}(e),d(i,e)):"function"==typeof e?d(r,function(n,i){return e(Ta(t,n),i)},this):i}function Ta(t,e){return"category"===t.type?t.scale.getLabel(e):e}function Ca(t){return this._axes[t]}function Ia(t){vd.call(this,t)}function Aa(t,e){var n=(t[1]-t[0])/e/2;t[0]+=n,t[1]-=n}function ka(t){return w(t)&&null!=t.value?t.value:t+""}function La(t,e){return e.type||(e.data?"category":"value")}function Pa(t,e,n){return t.getCoordSysModel()===e}function Da(t,e){var n=e*Math.PI/180,i=t.plain(),r=i.width,o=i.height,a=r*Math.cos(n)+o*Math.sin(n),s=r*Math.sin(n)+o*Math.cos(n);return new zt(i.x,i.y,a,s)}function Oa(t){var e,n=t.model,i=n.getFormattedLabels(),r=n.getModel("axisLabel"),o=1,a=i.length;a>40&&(o=Math.ceil(a/40));for(var s=0;s<a;s+=o)if(!t.isLabelIgnored(s)){var l=Da(r.getTextRect(i[s]),r.get("rotate")||0);e?e.union(l):e=l}return e}function za(t,e,n){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(t,e,n),this.model=t}function Ba(t,e,n){var i=t[e];if(n.onZero){var r=n.onZeroAxisIndex;if(null==r){for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];if(a&&!Ea(a)){r=+o;break}}null==r&&(n.onZero=!1),n.onZeroAxisIndex=r}else(a=i[r])&&Ea(a)&&(n.onZero=!1)}}function Ea(t){return"category"===t.type||"time"===t.type||!kd(t)}function Na(t,e){var n=t.getExtent(),i=n[0]+n[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return i-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return i-t+e}}function Ra(t,e){return d(Dd,function(e){return t.getReferringComponents(e)[0]})}function Fa(t){return"cartesian2d"===t.get("coordinateSystem")}function Wa(t){var e={componentType:t.mainType};return e[t.mainType+"Index"]=t.componentIndex,e}function Va(t,e,n,i){var r,o,a=dn(n-t.rotation),s=i[0]>i[1],l="start"===e&&!s||"start"!==e&&s;return gn(a-Od/2)?(o=l?"bottom":"top",r="center"):gn(a-1.5*Od)?(o=l?"top":"bottom",r="center"):(o="middle",r=a<1.5*Od&&a>Od/2?l?"left":"right":l?"right":"left"),{rotation:a,textAlign:r,textVerticalAlign:o}}function Ga(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)}function Ha(t,e,n){var i=t.get("axisLabel.showMinLabel"),r=t.get("axisLabel.showMaxLabel");e=e||[],n=n||[];var o=e[0],a=e[1],s=e[e.length-1],l=e[e.length-2],h=n[0],u=n[1],c=n[n.length-1],f=n[n.length-2];!1===i?(qa(o),qa(h)):Xa(o,a)&&(i?(qa(a),qa(u)):(qa(o),qa(h))),!1===r?(qa(s),qa(c)):Xa(l,s)&&(r?(qa(l),qa(f)):(qa(s),qa(c)))}function qa(t){t&&(t.ignore=!0)}function Xa(t,e,n){var i=t&&t.getBoundingRect().clone(),r=e&&e.getBoundingRect().clone();if(i&&r){var o=tt([]);return rt(o,o,-t.rotation),i.applyTransform(nt([],o,t.getLocalTransform())),r.applyTransform(nt([],o,e.getLocalTransform())),i.intersect(r)}}function Za(t){return"middle"===t||"center"===t}function Ya(t,e,n){var i=e.axis;if(e.get("axisTick.show")&&!i.scale.isBlank()){for(var r=e.getModel("axisTick"),o=r.getModel("lineStyle"),s=r.get("length"),l=Rd(r,n.labelInterval),h=i.getTicksCoords(r.get("alignWithLabel")),u=i.scale.getTicks(),c=e.get("axisLabel.showMinLabel"),f=e.get("axisLabel.showMaxLabel"),d=[],g=[],p=t._transform,v=[],m=h.length,y=0;y<m;y++)if(!Nd(i,y,l,m,c,f)){var _=h[y];d[0]=_,d[1]=0,g[0]=_,g[1]=n.tickDirection*s,p&&(X(d,d,p),X(g,g,p));var x=new ku(Ti({anid:"tick_"+u[y],shape:{x1:d[0],y1:d[1],x2:g[0],y2:g[1]},style:a(o.getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")}),z2:2,silent:!0}));t.group.add(x),v.push(x)}return v}}function Ua(t,e,n){var i=e.axis;if(T(n.axisLabelShow,e.get("axisLabel.show"))&&!i.scale.isBlank()){var r=e.getModel("axisLabel"),o=r.get("margin"),a=i.scale.getTicks(),s=e.getFormattedLabels(),l=(T(n.labelRotate,r.get("rotate"))||0)*Od/180,h=Ed(n.rotation,l,n.labelDirection),u=e.get("data"),c=[],d=Ga(e),g=e.get("triggerEvent"),p=e.get("axisLabel.showMinLabel"),v=e.get("axisLabel.showMaxLabel");return f(a,function(l,f){if(!Nd(i,f,n.labelInterval,a.length,p,v)){var m=r;u&&u[l]&&u[l].textStyle&&(m=new tr(u[l].textStyle,r,e.ecModel));var y=m.getTextColor()||e.get("axisLine.lineStyle.color"),_=[i.dataToCoord(l),n.labelOffset+n.labelDirection*o],x=i.scale.getLabel(l),w=new yu({anid:"label_"+l,position:_,rotation:h.rotation,silent:d,z2:10});Vi(w.style,m,{text:s[f],textAlign:m.getShallow("align",!0)||h.textAlign,textVerticalAlign:m.getShallow("verticalAlign",!0)||m.getShallow("baseline",!0)||h.textVerticalAlign,textFill:"function"==typeof y?y("category"===i.type?x:"value"===i.type?l+"":l,f):y}),g&&(w.eventData=Wa(e),w.eventData.targetType="axisLabel",w.eventData.value=x),t._dumbGroup.add(w),w.updateTransform(),c.push(w),t.group.add(w),w.decomposeTransform()}}),c}}function ja(t){var e=$a(t);if(e){var n=e.axisPointerModel,i=e.axis.scale,r=n.option,o=n.get("status"),a=n.get("value");null!=a&&(a=i.parse(a));var s=Ka(n);null==o&&(r.status=s?"show":"hide");var l=i.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==a||a>l[1])&&(a=l[1]),a<l[0]&&(a=l[0]),r.value=a,s&&(r.status=e.axis.scale.isBlank()?"hide":"show")}}function $a(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[Ja(t)]}function Qa(t){var e=$a(t);return e&&e.axisPointerModel}function Ka(t){return!!t.get("handle.show")}function Ja(t){return t.type+"||"+t.id}function ts(t,e,n,i,r,o){var a=Fd.getAxisPointerClass(t.axisPointerClass);if(a){var s=Qa(e);s?(t._axisPointer||(t._axisPointer=new a)).render(e,s,i,o):es(t,i)}}function es(t,e,n){var i=t._axisPointer;i&&i.dispose(e,n),t._axisPointer=null}function ns(t,e,n){n=n||{};var i=t.coordinateSystem,r=e.axis,o={},a=r.position,s=r.onZero?"onZero":a,l=r.dim,h=i.getRect(),u=[h.x,h.x+h.width,h.y,h.y+h.height],c={left:0,right:1,top:0,bottom:1,onZero:2},f=e.get("offset")||0,d="x"===l?[u[2]-f,u[3]+f]:[u[0]-f,u[1]+f];if(r.onZero){var g=i.getAxis("x"===l?"y":"x",r.onZeroAxisIndex),p=g.toGlobalCoord(g.dataToCoord(0));d[c.onZero]=Math.max(Math.min(p,d[1]),d[0])}o.position=["y"===l?d[c[s]]:u[0],"x"===l?d[c[s]]:u[3]],o.rotation=Math.PI/2*("x"===l?0:1);var v={top:-1,bottom:1,left:-1,right:1};o.labelDirection=o.tickDirection=o.nameDirection=v[a],o.labelOffset=r.onZero?d[c[a]]-d[c.onZero]:0,e.get("axisTick.inside")&&(o.tickDirection=-o.tickDirection),T(n.labelInside,e.get("axisLabel.inside"))&&(o.labelDirection=-o.labelDirection);var m=e.get("axisLabel.rotate");return o.labelRotate="top"===s?-m:m,o.labelInterval=r.getLabelInterval(),o.z2=1,o}function is(t){return t.get("stack")||Zd+t.seriesIndex}function rs(t){return t.dim+t.index}function os(t,e){return as(d(t,function(t){var e=t.getData(),n=t.coordinateSystem.getBaseAxis(),i=n.getExtent(),r="category"===n.type?n.getBandWidth():Math.abs(i[1]-i[0])/e.count();return{bandWidth:r,barWidth:ln(t.get("barWidth"),r),barMaxWidth:ln(t.get("barMaxWidth"),r),barGap:t.get("barGap"),barCategoryGap:t.get("barCategoryGap"),axisKey:rs(n),stackId:is(t)}}),e)}function as(t,e){var n={};f(t,function(t,e){var i=t.axisKey,r=t.bandWidth,o=n[i]||{bandWidth:r,remainedWidth:r,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},a=o.stacks;n[i]=o;var s=t.stackId;a[s]||o.autoWidthCount++,a[s]=a[s]||{width:0,maxWidth:0};var l=t.barWidth;l&&!a[s].width&&(a[s].width=l,l=Math.min(o.remainedWidth,l),o.remainedWidth-=l);var h=t.barMaxWidth;h&&(a[s].maxWidth=h);var u=t.barGap;null!=u&&(o.gap=u);var c=t.barCategoryGap;null!=c&&(o.categoryGap=c)});var i={};return f(n,function(t,e){i[e]={};var n=t.stacks,r=t.bandWidth,o=ln(t.categoryGap,r),a=ln(t.gap,1),s=t.remainedWidth,l=t.autoWidthCount,h=(s-o)/(l+(l-1)*a);h=Math.max(h,0),f(n,function(t,e){var n=t.maxWidth;n&&n<h&&(n=Math.min(n,s),t.width&&(n=Math.min(n,t.width)),s-=n,t.width=n,l--)}),h=(s-o)/(l+(l-1)*a),h=Math.max(h,0);var u,c=0;f(n,function(t,e){t.width||(t.width=h),u=t,c+=t.width*(1+a)}),u&&(c-=u.width*a);var d=-c/2;f(n,function(t,n){i[e][n]=i[e][n]||{offset:d,width:t.width},d+=t.width*(1+a)})}),i}function ss(t,e,n){var i=os(p(e.getSeriesByType(t),function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type})),r={},o={};e.eachSeriesByType(t,function(t){if("cartesian2d"===t.coordinateSystem.type){var e=t.getData(),n=t.coordinateSystem,a=n.getBaseAxis(),s=is(t),l=i[rs(a)][s],h=l.offset,u=l.width,c=n.getOtherAxis(a),f=t.get("barMinHeight")||0,d=a.onZero?c.toGlobalCoord(c.dataToCoord(0)):c.getGlobalExtent()[0],g=[t.coordDimToDataDim("x")[0],t.coordDimToDataDim("y")[0]],p=e.mapArray(g,function(t,e){return n.dataToPoint([t,e])},!0);r[s]=r[s]||[],o[s]=o[s]||[],e.setLayout({offset:h,size:u}),e.each(t.coordDimToDataDim(c.dim)[0],function(t,n){if(!isNaN(t)){r[s][n]||(r[s][n]={p:d,n:d},o[s][n]={p:d,n:d});var i,a,l,g,v=t>=0?"p":"n",m=p[n],y=r[s][n][v],_=o[s][n][v];c.isHorizontal()?(i=y,a=m[1]+h,l=m[0]-_,g=u,o[s][n][v]+=l,Math.abs(l)<f&&(l=(
